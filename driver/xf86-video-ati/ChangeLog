commit 7be2dce975d60d68dd962d4928b2971cd9e011af
Author: Dave Airlie <airlied@linux.ie>
Date:   Wed Oct 4 01:01:48 2006 +1000

    update configure.ac for new 6.6.3 release

commit 6831297d79623d55c57cd7cd8ff90f08b8c68432
Author: Dave Airlie <airlied@starflyer-ubuntu.(none)>
Date:   Tue Sep 12 03:33:35 2006 +1000

    radeon: fallback render repeat for XAA, this fixes corruptions seen on ubuntu
    
    This isn't the correct fix, we should just fix the repeat case, but for a
    stable release this is much better idea
    (cherry picked from 84e574986f61c4f250d6ecb938bab20847618906 commit)

commit ddaacf78455290ffc31b41cd809b03ffbeadd69b
Author: Ronald Wahl <rwahl@gmx.de>
Date:   Wed Oct 4 00:55:43 2006 +1000

    Hook up DFP power to DPMS events.
    (cherry picked from f96ddd32d3a9e64dc0adec5c50386d6db5b182ee commit)

commit 14f6d58d4b5a277a68d9d8ddee7f79be2179f34f
Author: Roland Scheidegger <rscheidegger_lists@hispeed.ch>
Date:   Sat Sep 30 15:14:42 2006 +0200

    radeon: Check ROM more thoroughly before treating it as an x86 BIOS.
    
    This prevents the ROMs on some Mac cards getting treated as x86 BIOSen,
    resulting in garbage values.
    (cherry picked from c979c7f87fc449cc9631820101edff82c3013e66 commit)

commit 4921228fb76ec26249aa0f6f0f1ddebf26661b82
Author: David Woodhouse <dwmw2@infradead.org>
Date:   Sun Oct 1 18:22:14 2006 +0200

    Fix radeon vs fbdev pitch calculation.
    
    Fetch the correct displayWidth from fbdevhw after setting the mode.
    (cherry picked from 145c716de6d42778e447581578f3e4db13c9a653 commit)

commit 9fa176c7989030e7340cc9b85d0b6a7b34303091
Author: Alex Deucher <alex@samba.(none)>
Date:   Tue Sep 19 13:58:17 2006 -0400

    Provide all resolutions (instead only the largest one) in MergedFB clone
    mode without config file (Henry Zhao)

commit e742aeb28c7d9d6e75932c408bcc7c44af52e303
Author: Alex Deucher <alex@samba.(none)>
Date:   Tue Sep 19 13:45:33 2006 -0400

    fix large negative refresh rates with mergedfb (Henry Zhao)
    fixes bug 6966

commit 9c0c805704f1df1b66adc2a6b9313597ae5b86cc
Author: Dave Airlie <airlied@linux.ie>
Date:   Mon Sep 18 19:41:21 2006 +1000

    radeon: fix rn50 memmap
    
    This should fixup the rn50/m6/m7 memory map problem that has been reported
    since BenH's memory mapping changes

commit 25fa71ca0a24190cc8be2e80769443e0e09303b3
Author: Henry Zhao <henryz@ati.com>
Date:   Mon Sep 18 03:15:54 2006 +1000

    Power up DAC around check for CRT connectedness

commit 39fcac431eba60adf2d4e357cfc811dbae36a4e1
Author: Henry Zhao <henryz@ati.com>
Date:   Mon Sep 18 03:09:43 2006 +1000

    Bump up clock rate for ES1000 to allow higher resolutions

commit 7d9e2b450f0fa42553156f57572a6dab70a0ea13
Author: Dave Airlie <airlied@starflyer-ubuntu.(none)>
Date:   Tue Sep 12 07:04:23 2006 +1000

    radeon: this stops mergedfb working on my ATI M7 development board
    
    I've no idea what this is for, it came from an ATI codedrop and it may
    fix some laptop or production system, but it looks to me more like a dirty
    hack than a true fix, as I have an M7 which I need to specify CRT for the
    second head and it breaks mergedfb for me.

commit ad1778eb1eb59de14ec309b99131931cbccf64e9
Author: Michel DÃ¤nzer <michel@tungstengraphics.com>
Date:   Sun Sep 10 23:32:44 2006 +0200

    Revert "* [ Bug 6966 ] large negative refresh rates reported"
    
    This reverts caaed927a07ffbac68b08246185ef93c1e7bb98c commit.
    
    See https://bugs.freedesktop.org/show_bug.cgi?id=8137 .

commit 6e92981b024b59c2237f949321f6b2591dada519
Author: Tilman Sauerbeck <tilman@code-monkey.de>
Date:   Sun Sep 3 21:11:10 2006 +0200

    Removed the warning re. the r300 DRI driver status.

commit caaed927a07ffbac68b08246185ef93c1e7bb98c
Author: Henry Zhao <henryz@localhost.localdomain>
Date:   Thu Aug 31 13:27:45 2006 -0700

    * [ Bug 6966 ] large negative refresh rates reported
    * [ Bug 6309 ] radeon/r128 fails to read hsync/vsync rates when rang
    *              descriptor is missing
    * [ Bug 5473 ] Blank screen with Radeon Mobility X700 (Acer Ferrari 4005)
    * Reboot should not be needed for external CRT to function when connected
      later on Ferrari 4000
    * Modes need to be sorted, and sorted correctly
    * Provide all resolutions (instead only the largest one) in MergedFB clone
      mode without config file
    * Bump up clock rate for ES1000 to allow higher resolution

commit 6d2028b84ff2b82c849b74776258f8e52c952e36
Author: Dave Airlie <airlied@linux.ie>
Date:   Fri Aug 25 10:05:44 2006 +1000

    and of course it takes two commits to do a simple commit

commit e90c6feddbcd719fda3bbc3d48fd55045e9d5adc
Author: Dave Airlie <airlied@linux.ie>
Date:   Fri Aug 25 09:59:58 2006 +1000

    add changelog hook from nv driver

commit 1e06212f792d1ed1f7545e16824b86fbd34fa284
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Thu Aug 24 19:52:30 2006 -0400

    Enable CPIO in the atimisc driver on ia64 platforms.
    
    This fixes many mach64s, but potentially breaks mach32.  Mach64 is widespread
    on ia64 machines but PCI mach32's are quite rare on any platform.

commit dfa47b09b5b8d7eeaa3f8ae629ebb3c7efb51511
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Thu Aug 24 19:50:46 2006 -0400

    Disable DRI on xpress 200{,m} since we know it's broken.

commit 1dcd9b1f75ba2307beb42556aa7f2f945171d5fb
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Thu Aug 24 19:42:26 2006 -0400

    Disable DRI on RN50 in a more pleasant way.
    
    Rather than publish a non-existant driver name for RN50, just don't bother
    initializing it in the first place.

commit 64b18e246586b1043a12f381a9d4c834464ed9b5
Author: Dave Airlie <airlied@linux.ie>
Date:   Fri Aug 25 09:40:04 2006 +1000

    update version numbers for release

commit be229d97e1f0282f2099c7ace7cb257a2738a58f
Author: Dave Airlie <airlied@linux.ie>
Date:   Fri Aug 25 09:39:46 2006 +1000

    make colortiling default to on all cards

commit 750ed51bc3d5119e2d2a91a05ae5a971dcd3b88a
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Mon Aug 7 17:09:02 2006 +0300

    [mach64] RENDER support: drop caching DP_WRITE_MASK.
    
    Caching DP_WRITE_MASK causes artifacts, e.g. with evas_xrender_x11_test.

commit b2beea2fa8949874d3d57fb9b43fe85cc08a8bff
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Sat Aug 5 18:36:24 2006 +0300

    [mach64] RENDER support: save/restore, cache texture registers.

commit 43aaed99950640c3695b3c2b91faabf00c6338a7
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Sat Aug 12 22:12:07 2006 +0300

    [mach64] RENDER support (bug #6877).
    
    RENDER accleration is disabled by default. It is strongly recommended that the
    patch from bug #6772 and the 'exa-damagetrack branch' are merged in the xserver
    before enabling RENDER acceleration. To enable RENDER acceleration, add the
    following in xorg.conf:
    
    Section "Device"
            [...]
    
            Option          "AccelMethod"           "exa"
            Option          "RenderAccel"           "true"
    EndSection

commit d113f40fd97408661193895ff3aa82262f100143
Author: Dave Airlie <airlied@linux.ie>
Date:   Sat Aug 12 17:16:33 2006 +1000

    radeon: make some local data static
    
    This is inspired by a patch in XFree86 from David Dawes, it isn't the
    same as we have different gamma curves.

commit a1da2b5e0a38feae01107676a76bdc5c185ad34b
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Sat Aug 5 03:18:34 2006 +0300

    [mach64] Halve max w/h for hardware-accelerated operations.
    
    EXA hits these limits for some operations on offscreen pixmaps and GTPRO seems
    to support the reduced limits.

commit a66c8d2f9855caa10142b39f155dd8232b1f2389
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Sat Aug 5 03:16:56 2006 +0300

    [mach64] EXA: add memcpy-based UTS/DFS.
    
    EXA hits more optimized paths when it does not have to fallback because of
    missing UTS/DFS.

commit 0fb8503d60cf646c91a806f9ed322f9ceff18baa
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Sat Aug 5 03:16:15 2006 +0300

    [mach64] XAA: minor refactoring of memory manager setup.
    
    - DRI: factor out to separate function and add comments on layout
    - no DRI: factor out to separate function, maxScanlines is always equal to
      ATIMach64MaxY

commit e203d86643d5d70bf18248712d05b72b79aee705
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Sat Aug 5 03:15:42 2006 +0300

    [mach64] EXA support.

commit dc1e289a611a17090e6dc7ae8a8d3f26d20df4eb
Author: Samuel Thibault <samuel.thibault@ens-lyon.org>
Date:   Sat Jul 29 01:05:35 2006 +0300

    Bug #6623: Fix I2C bus Mach64 initialisation failure.

commit b377f403e0cd5253402ef3945e5944d1a2763a94
Author: Marc Aurele La France <tsi@xfree86.org>
Date:   Sat Jul 29 01:03:34 2006 +0300

    Fix warnings for Option:1 bit fields.

commit 91b8b0ca41ad0b9659f0982a05148cab8558e9d5
Author: Marc Aurele La France <tsi@xfree86.org>
Date:   Sat Jul 29 01:02:48 2006 +0300

    Bug #807: copy throttling.
    
    Fix corruption associated with the engine randomly not waiting for a copy
    operation to commit its results.

commit 7800407a2db4b7307192bf3b43fffb9c4748b9c0
Author: Marc Aurele La France <tsi@xfree86.org>
Date:   Sat Jul 29 01:00:56 2006 +0300

    Bug #807: invalidate read-back cache.
    
    Fix corruption when scaling 1-pixel wide pixmaps, in which case the first CPU
    read of the framebuffer will return stale data.
    
    This bug always manifests itself in mach64 EXA (to be committed soon), with
    this patch mach64 EXA passes rendercheck.

commit 49b11c540d37152eee4907ab30353ede01e4fb56
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Sat Jul 29 00:52:28 2006 +0300

    Bug #807: split out TestRegisterCaching block for DP regs.

commit 290c5aaa580428bc4748a47e4b9bcc22b90fc8d4
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Sat Jul 29 00:51:53 2006 +0300

    Bug #807: split out TestRegisterCaching block for DP regs.

commit fba8c839b47e2c8d6a6d65950c3431ff5b870aa0
Author: Michel DÃ¤nzer <michel@tungstengraphics.com>
Date:   Sun Jul 23 18:51:47 2006 +0200

    Bug #6819: Fix broken rendering with *8b8g8r8 source formats.
    
    Use the corresponding texture formats with R200 family.
    
    Unfortunately, it looks like the R100 family can't accelerate these source
    formats, so we have to fall back for them.

commit 60ebe97e2d5d27c2bf4213e201cef74503809cb6
Author: Tilman Sauerbeck <tilman@code-monkey.de>
Date:   Mon Jul 3 19:37:28 2006 +0200

    Move variable declarations before statements to be C89 compatible

commit 6900ff3c5e574881b1470e2363b200e99ab8bf3e
Author: Alex Williamson <alex.williamson@hp.com>
Date:   Mon Jul 3 13:09:47 2006 +0200

    Bug #6872: Disable digital output while reading ROM with Radeon 7000.
    
    This is a workaround for ATI Radeon 7000 erratum F1.

commit 920ac1f56fad6f48a30e65836ce054815f270738
Author: Michel DÃ¤nzer <michel@tungstengraphics.com>
Date:   Mon Jul 3 01:21:18 2006 +0200

    Do even less cache flushing when the previous engine mode is known.
    
    OTOH, flush everything when the previous engine mode is unknown, and mark the
    engine mode as unknown in a couple more cases.

commit dd0dd4bab76907b4b1b6d814f24e73e57d71f587
Author: Eric Anholt <anholt@freebsd.org>
Date:   Mon Jul 3 01:10:10 2006 +0200

    Bug #6762: Remove gratuitous cache flushing.

commit 22f165f290f57e638d198f24a37f62fc16b72bae
Author: Michel DÃ¤nzer <michel@tungstengraphics.com>
Date:   Mon Jul 3 00:39:45 2006 +0200

    Build and warning fixes for !defined(USE_XAA).

commit ea5105230c7c3519730b8d3c250e9ba9a4e4374a
Author: Michel DÃ¤nzer <michel@tungstengraphics.com>
Date:   Mon Jul 3 00:03:22 2006 +0200

    Reserve HW cursor memory statically instead of from EXA offscreen.
    
    As a result, quite a bit of code can be removed that attempted to deal with the
    EXA offscreen memory disappearing, with varying success. Because the HW cursor
    memory is now always immediately after the front buffer and before the back
    buffer, this also fixes bug #6808.
    
    As the HW cursor memory is now reserved statically with EXA and XAA, change
    RADEONUseHWCursor() to check info->cursor instead of info->cursor_offset, for
    which 0 might become valid with HW cursor enabled in the future.
    
    Change info->cursor_offset from unsigned long to CARD32 as the corresponding
    register is 32 bits wide, and to avoid issues with printf.

commit 66586f905857ea5bf37cb5d34949cd450a9ed067
Author: Michel DÃ¤nzer <michel@tungstengraphics.com>
Date:   Sun Jul 2 23:38:20 2006 +0200

    Clean up some redundant code.

commit 1159c85861dc507ebf323aca82e32fcc67726420
Author: Michel DÃ¤nzer <michel@tungstengraphics.com>
Date:   Sun Jul 2 18:24:28 2006 +0200

    Bug #6548: Fix playback of interlaced video with more than 1023 lines.
    
    This will still break with 2048 lines...

commit 11bedb7c845fc6074383890d5525315aebe05f2c
Author: Michel DÃ¤nzer <michel@tungstengraphics.com>
Date:   Sun Jul 2 17:03:23 2006 +0200

    Bug #6939: Disable RENDER acceleration by default on RN50.
    
    Based on patch from Weixing Zhang, but still allows enabling it with Option
    "RenderAccel".

commit 4a0c22e32901a510c7aad070be25c31519c284e3
Author: Weixing Zhang <anzhang@ati.com>
Date:   Sun Jul 2 16:55:25 2006 +0200

    Bug #6939: Disable 3D acceleration on RN50 by setting invalid ClientDriverName.

commit 9c4a1e3300d30b23806988aa9328fc6ef92e2663
Author: Frank Gevaerts <frank@gevaerts.be>
Date:   Thu Jun 29 18:21:22 2006 +0200

    Fix build for !defined(USE_EXA).

commit ee0544b670567491b7770f469a64a6cd85519ba1
Author: Michel DÃ¤nzer <michel@tungstengraphics.com>
Date:   Thu Jun 29 18:19:58 2006 +0200

    Remove unused variables.

commit 15c556f5a8c9069d3dd00ce139d46c39b7298951
Author: Michel DÃ¤nzer <michel@tungstengraphics.com>
Date:   Thu Jun 29 18:18:21 2006 +0200

    Don't declare unused variables on __powerpc__ and __alpha__.

commit 055ac2836ec0afd51cf554d043a59068c36a07d3
Author: Michel DÃ¤nzer <michel@tungstengraphics.com>
Date:   Thu Jun 29 18:14:45 2006 +0200

    Fix strict aliasing violation flagged by gcc -Wall.

commit 4b1904017caa976c138594a86e75feaf470e72b5
Author: Dave Airlie <airlied@linux.ie>
Date:   Mon Jun 26 20:34:34 2006 +1000

    radeon: force CP and VIP clocks on some r300 and rv100 chips.
    
    fglrx appears to do this on r300 and Jerome Glisse has spent most of his
    life tracking down what caused the 9800 to lockup. This is my attempt to
    fix this. Please report if it works for you.
    
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit c5d8c8db3e75976687bfb364f0a7b235c7ae8793
Author: Michel DÃ¤nzer <michel@tungstengraphics.com>
Date:   Sat Jun 24 16:01:19 2006 +0200

    Bug #7274: Fix corruption with 'small' accelerated DownloadFromScreen transfers.

commit f25ba3dc0e7850f0b1b78f54c0e7211bf2e81b3a
Author: Tilman Sauerbeck <tilman@code-monkey.de>
Date:   Fri Jun 16 11:38:18 2006 +0200

    Remove obsolete FIXME.

commit 764013ec61b9043f1487513658e374569f7154a9
Author: Tilman Sauerbeck <tilman@code-monkey.de>
Date:   Fri Jun 16 10:56:02 2006 +0200

    Use AC_CHECK_HEADER() to check for exa.h

commit 3c701d49b3eb7adb82267cec53163e475913aca3
Author: Tilman Sauerbeck <tilman@code-monkey.de>
Date:   Fri Jun 16 09:59:29 2006 +0200

    Use AC_MSG_RESULT() instead of echo for check results.

commit dbef62615f38aebf4cdc579e3b26a7e7c719abc4
Author: Tilman Sauerbeck <tilman@code-monkey.de>
Date:   Fri Jun 16 08:50:49 2006 +0200

    conditionally declare pPCI and PciReg, too

commit a01c01787cfbe3706ae7747cde1657abd79ecdaa
Author: Michel DÃ¤nzer <michel@tungstengraphics.com>
Date:   Wed Jun 21 09:38:47 2006 +0200

    Bug #7283: Build fixes for !defined(XF86DRI).
    
    Thanks to Matthieu Herrb for pointing out some of these.

commit 79d1c573133e64ddf4446b6bb0eaab4a5a6c73ab
Author: Michel DÃ¤nzer <michel@tungstengraphics.com>
Date:   Sun Jun 18 17:39:09 2006 +0200

    Implement accelerated EXA DownloadFromScreen hook.
    
    x11perf -getimage numbers only increase by about 20-30% on my PowerBook with an
    M9, but by about 100 times(!) with a PCIe X550. I suspect the former could
    perform better with PCI as opposed to AGP transfers, which would also remove
    the need to disable this by default with AGP.

commit 2bcdc7cfd013bd457d35f927390e5cc3544f30f1
Author: Michel DÃ¤nzer <michel@tungstengraphics.com>
Date:   Sun Jun 18 16:01:00 2006 +0200

    Remove #include <fbdevhw.h>, not used here.

commit 25a5ccb63a9e3074b4c8eaf48844877d84ff76bb
Author: Michel DÃ¤nzer <michel@tungstengraphics.com>
Date:   Sun Jun 18 15:26:55 2006 +0200

    Prefer visuals with stencil when it's hardware acclerated.
    
    Also make the formatting of the if statements consistent.

commit 8fcc436f19f9c1371295af2d0c45608fb43c584b
Author: Michel DÃ¤nzer <michel@tungstengraphics.com>
Date:   Sun Jun 18 15:16:08 2006 +0200

    Take part of the blame for the radeon driver.

commit c8366d7b457565a06acdf6b40c5448c7f13f1641
Author: Michel DÃ¤nzer <michel@tungstengraphics.com>
Date:   Sun Jun 18 14:24:14 2006 +0200

    Add Option "DepthBits".
    
    This allows getting higher depth buffer precision and stencil hardware
    acceleration in depth 16 or saving some video RAM at the cost of these features
    in depth 24.

commit 23a21d00db6f3b88b54c44648f968018a03677d3
Author: Tilman Sauerbeck <tilman@code-monkey.de>
Date:   Fri Jun 16 16:37:07 2006 +1000

    [PATCH] move the declaration of pMach64 into the correct ifndef statement
    Signed-off-by: Tilman Sauerbeck <tilman@code-monkey.de>
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit c6b33db9d2c751e34c2152b0bb7e0e84a812589f
Author: Dave Airlie <airlied@linux.ie>
Date:   Fri Jun 16 16:22:03 2006 +1000

    ati: prepare for release
    
    Update some versions for release

commit 9c534b5330534fc6cf392936a9b200a5128c787c
Author: Michel DÃ¤nzer <michel@tungstengraphics.com>
Date:   Thu Jun 15 16:09:55 2006 +0200

    Some more ignores.

commit 3d68698647fb17a6f5ae9a225f552cb0130fa946
Author: Michel DÃ¤nzer <michel@tungstengraphics.com>
Date:   Thu Jun 15 16:07:15 2006 +0200

    Fix semantic glitches pointed out by gcc -Wall.
    
    The radeon driver builds warning-free with gcc -Wall here now.

commit ab2b48e0df328fd08a2412911126b3184a601aea
Author: Michel DÃ¤nzer <michel@tungstengraphics.com>
Date:   Thu Jun 15 16:06:13 2006 +0200

    Remove another unused variable.

commit 56bd5a370472663af5607cd327f757367b238db0
Author: Michel DÃ¤nzer <michel@tungstengraphics.com>
Date:   Thu Jun 15 15:35:05 2006 +0200

    Fix some more cosmetic warnings.

commit ec93e08b24f7c0e583970d08bfe18ad142e6b047
Merge: 051c49d... 6ca9862...
Author: Michel DÃ¤nzer <michel@tungstengraphics.com>
Date:   Thu Jun 15 15:03:27 2006 +0200

    Merge branch 'master' of ssh+git://git.freedesktop.org/git/xorg/driver/xf86-video-ati

commit 6ca986242c80bcfe7ca2d435a772bbdf034892c4
Author: Dave Airlie <airlied@linux.ie>
Date:   Thu Jun 15 21:24:46 2006 +1000

    remove unused variable

commit 9a5f5bc0d3f5e62b79355993ca6246382394daee
Author: Dave Airlie <airlied@linux.ie>
Date:   Thu Jun 15 21:24:16 2006 +1000

    remove all printf specifier warnings on Linux

commit 051c49d0f002c72d1d8f15f6df264d8b093d4e95
Merge: a840afc... dfac819...
Author: Michel DÃ¤nzer <michel@tungstengraphics.com>
Date:   Thu Jun 15 13:10:44 2006 +0200

    Merge branch 'master' of ssh+git://git.freedesktop.org/git/xorg/driver/xf86-video-ati

commit dfac8191dbda29ef7f6ce33d7356fee89c17d59b
Author: Dave Airlie <airlied@linux.ie>
Date:   Thu Jun 15 21:05:16 2006 +1000

    fix last ati*.[ch] format specifiers

commit 33525540f3a9d6760c6edcfe765d2a004a6b894f
Author: Dave Airlie <airlied@linux.ie>
Date:   Thu Jun 15 21:03:01 2006 +1000

    fix more printf formats

commit 6bcf6f29af24b6725e097dd72af8e8b9f6d0676c
Author: Dave Airlie <airlied@linux.ie>
Date:   Thu Jun 15 20:59:33 2006 +1000

    some more unused variable cleanups

commit a840afc75a0453b4694e3f987ebdbddc6844a169
Merge: c90c49d... d511ef4...
Author: Michel DÃ¤nzer <michel@tungstengraphics.com>
Date:   Thu Jun 15 12:46:58 2006 +0200

    Merge branch 'master' of ssh+git://git.freedesktop.org/git/xorg/driver/xf86-video-ati

commit d511ef486a15b582e5d1708a17a00701f5cf1ccd
Author: Dave Airlie <airlied@linux.ie>
Date:   Thu Jun 15 20:39:22 2006 +1000

    ati/r128: add includes to get C function decls
    
    Also fix a void pointer cast

commit f46c3bebe821ee0031770d98d04bd406d1abb9ed
Author: Dave Airlie <airlied@linux.ie>
Date:   Thu Jun 15 20:34:56 2006 +1000

    fix some more unused variables and bad parameter passing

commit 6c3f81683abab8ff6b8f2fcaf01a2a1a63af5ef6
Author: Dave Airlie <airlied@linux.ie>
Date:   Thu Jun 15 20:25:00 2006 +1000

    ati: fix -Wall in atidri.c
    
    atidri.c has some parameter passing bugs, fixed those and cleaned other
    warnings.

commit 58c6aac0669101481ef6b8217e5cede4573ece42
Author: Dave Airlie <airlied@linux.ie>
Date:   Thu Jun 15 19:58:11 2006 +1000

    theatre: fix all -Wall warnings in theatre*
    
    This fixes all the warnings, it doesn't clean up the horrible mess that is
    theatre*.[ch].

commit c90c49da3844f93d2d29070b15bb7def72b98b0f
Author: Michel DÃ¤nzer <michel@tungstengraphics.com>
Date:   Thu Jun 15 10:29:46 2006 +0200

    Collapse .gitignore files into single toplevel file, sorted with LC_ALL=C.
    
    Suggested by Keith Packard.

commit b7a3e4c9b33f72ae447f99c0c765f24fce988142
Author: Michel DÃ¤nzer <michel@tungstengraphics.com>
Date:   Thu Jun 15 09:45:12 2006 +0200

    Fix some implicit function declarations.

commit 556ddc9c41020271e92389a3900d097ec443c625
Author: Michel DÃ¤nzer <michel@tungstengraphics.com>
Date:   Thu Jun 15 09:30:43 2006 +0200

    .cvsignore -> .gitignore

commit 4708327969a21fc171dcd80a1b506028cc8e4f90
Author: Dave Airlie <airlied@linux.ie>
Date:   Thu Jun 15 07:37:03 2006 +1000

    ati: remove Changelog from ATI driver.

commit ecbec8379c24bd6c16ced674d5e6affcd3985e46
Author: Michel Daenzer <michel@daenzer.net>
Date:   Thu Jun 8 17:29:12 2006 +0000

    Bug #5678: Fix setting of transfer mode for AGPv3 devices (Tilman
        Sauerbeck).

commit 874ff105bc63c4fc242fbabaec04fde2cb81fdd4
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Jun 3 10:50:33 2006 +0000

    Bug #1889: Stop the CCE before an engine reset. (Conn)

commit f9db5595fe4d62c54b3a501b2af64b4e2b7035cd
Author: Michel Daenzer <michel@daenzer.net>
Date:   Sun May 21 14:33:34 2006 +0000

    Derive ATI_VERSION_{MAJOR,MINOR,PATCH} from package version in order to
        hopefully confuse bug triagers a little less.

commit 25ba85cab8b3d831da646fef19f01769410fc958
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Wed May 10 02:46:37 2006 +0000

    - remove obsolete option "OverlayOnCRT2" (bug 6488)

commit ede75fe2b1850a4d9f03c724b7c1d1ed65e60f2f
Author: Michel Daenzer <michel@daenzer.net>
Date:   Tue May 9 14:40:23 2006 +0000

    Drop support for radeon DRM <= 1.7. The 2.4 kernel has version 1.7, and
        various problems up to system hangs on X server startup have been
        reported with that and DRI enabled.

commit bc93a46c4fe499f23b9c0ff52e2e36b4c587f7d6
Author: Michel Daenzer <michel@daenzer.net>
Date:   Mon May 8 09:29:34 2006 +0000

    Bugzilla #4640 <https://bugs.freedesktop.org/show_bug.cgi?id=4640> Patch
        #5273 <https://bugs.freedesktop.org/attachment.cgi?id=5273>:
    Add cases for FOURCC_RGBA32 and FOURCC_RGB24. This prevents clients from
        receiving incorrect data sizes with these formats. (Jan Schmidt)

commit 2b0cdd9448a24ea067b0d78f319b99c1041df2e0
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Wed May 3 04:25:27 2006 +0000

    Enable decoding of version 4 TMDS PLL config tables, they actually work,
        the problem in the comment only concerned pre-production cards that Hui
        tested apparently. Also set back the default value to what it was
        initially, fixes some more cards that don't have a proper table (Mac
        Mini for example)

commit 36c04b88416905b9ae305583e8e34fefdbfafc50
Author: Michel Daenzer <michel@daenzer.net>
Date:   Mon May 1 17:49:41 2006 +0000

    Bugzilla #6755 <https://bugs.freedesktop.org/show_bug.cgi?id=6755> Patch
        #5536 <https://bugs.freedesktop.org/attachment.cgi?id=5536>:
    Change HostDataBlit interface to take dst_offset_pitch and coordinates
        instead of just a destination pointer, as the latter is not sufficient
        with tiling. Also, use HW clipping to avoid overwriting destination
        data outside of the specified width.
    Adapt to new HostDataBlit interface. This fixes corruption with
        UploadToScreen to the front buffer (from exaPutImage).

commit b90d3710e67caad0686efab491c2b76ae877920c
Author: Michel Daenzer <michel@daenzer.net>
Date:   Sat Apr 29 21:30:23 2006 +0000

    Bugzilla #1992 <https://bugs.freedesktop.org/show_bug.cgi?id=1992> Patch
        #4988 <https://bugs.freedesktop.org/attachment.cgi?id=4988>: Fix Option
        "DisplayPriority" "HIGH" for R300 family.

commit 30f3ce5c5ba205a23748def11de019ee727897f3
Author: Michel Daenzer <michel@daenzer.net>
Date:   Sat Apr 29 20:34:57 2006 +0000

    Properly de-initialize EXA driver data, so EXA can be initialized again in
        the next generation.

commit d705429c230c9cc1645ae540a51dba62cae9f23e
Author: Michel Daenzer <michel@daenzer.net>
Date:   Sat Apr 29 20:18:48 2006 +0000

    Fix tests for (un)forcing HW cursor. The broken tests caused problems when
        switching to console with 3D clients running.

commit 6142cb079d4a5844e4863c800baf4ae19c636af5
Author: Michel Daenzer <michel@daenzer.net>
Date:   Sat Apr 29 20:12:38 2006 +0000

    Prefer double-buffered visuals. As a consequence, the root window's visual
        is double-buffered by default, which is desirable in a number of
        situations, in particular when running a GLX compositing manager with
        AIGLX.

commit eb841974d041b19461b7fb726687df8938b2e39b
Author: Eric Anholt <anholt@freebsd.org>
Date:   Fri Apr 28 02:55:08 2006 +0000

    Bug #6761: Fix font rendering in non-DRI mode by replacing RB2D_DSTCACHE_*
        with RB3D_DSTCACHE_*. The RB2D versions are read-only mirrors of the
        RB3D. This is masked when DRI is enabled because the DRM uses the right
        registers in its flushing.

commit 85e2ee6de6fd347aad66785ec7119f92013cd994
Author: Dave Airlie <airlied@linux.ie>
Date:   Wed Apr 26 08:38:47 2006 +0000

    Make the ATI driver use the PCI BAR size to determine the MMIO register
        aperture size. Otherwise it tries to overmap things if they are up near
        the end of memory.

commit 13b19edf5accb7427436d3f0b1c9a9efb4fe98fa
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Apr 26 07:26:15 2006 +0000

    Add support for some component-alpha operations (InReverse, OutReverse)
        necessary for testing upcoming general component alpha acceleration
        assistance in EXA. Tested with rendercheck on an r100.

commit 44a45bcb82d49349f4fdfae3e4b8f24f98d99b46
Author: Eric Anholt <anholt@freebsd.org>
Date:   Tue Apr 25 23:31:56 2006 +0000

    Use a CPPFLAGS with XORG_CFLAGS so that the exa test can actually find its
        headers and not fail. Also correct some nearby spelling.

commit cc1825b503ce7e785cbb4611fd177477a1081b6e
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Mon Apr 24 07:44:52 2006 +0000

    Fix enabling of external VGA output on some cards with dual entity setup
        instead of MergedFB. This was broken due to bogus manipulations of a
        register between the 2 entities. This fix is a big "violent" in that it
        always enables the analog output regardless of what is plugged. It
        should work though (at the expense of some additional power
        consumption). A proper fix should be easy to do once Alex gets his
        output mapping rework in.

commit a66145bc9d487f7e19237cf292f12750cb959f61
Author: Dave Airlie <airlied@linux.ie>
Date:   Fri Apr 21 00:38:44 2006 +0000

    Bugzilla 6672: fix interrupts on radeon since memmap changes

commit f1f057df9aaba42986d9e20afe6f609a90318333
Author: Dave Airlie <airlied@linux.ie>
Date:   Fri Apr 21 00:34:43 2006 +0000

    Add support for backing up the PCIE GART table on VT switch. This makes
        suspend/resume work a lot better on PCIE cards.

commit 31396df3b0101571bb85a4a66b67f5a8b0c992a9
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sat Apr 8 01:19:17 2006 +0000

    Bump to 6.6.0 and release. This module's versioning is completely screwed,
        so until we split out mach64/r128/radeon please just increment the
        package number whenever you make significant changes.

commit d706f494ed22afd369991e8c75a2d4f5aed15305
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Fri Apr 7 23:06:02 2006 +0000

    Add a DrawablePtr argument to the XV functions to pave the way for
        redirected video.

commit f94685aec26b65f60c00a4b1bcd8f26bd80eb6e4
Author: Eric Anholt <anholt@freebsd.org>
Date:   Tue Apr 4 07:42:36 2006 +0000

    Bug #5632: Fix up ati.4 to explain that it is a wrapper driver for the
        other three. While here, touch up radeon.4, and add an authors list
        gleaned from checking copyright headers.

commit 58c9b1d84f514755945e7a0d25fd5530af34ce95
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sun Apr 2 21:45:12 2006 +0000

    Add missing .cvsignore lines.

commit f1ce6170ef21e1f9769337c3138cd8d65c33e40a
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Sat Apr 1 23:02:40 2006 +0000

    - Fix dpi when switching from clone to dualhead with MergedFB.
    - Add ConstantDPI option to force a particlar dpi across mode changes Both
        based on Thomas Winischhofer's sis code.

commit 607f18cfbfc2a7b5509f8b567bf510fce31b361e
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Mon Mar 27 06:12:57 2006 +0000

    Fix a regression of my latest fix that broke color tiling on some setups.
        RADEONRestoreMemMapRegisters() must not clear CRTC_OFFSET_CNTL and
        friends unconditionally but only when there is a map change or it will
        clear them after the DRI updates the AGP location, thus turning tiling
        back off on the CRTC. Also remove a duplicate call to
        RADEONInitCommonRegisters().

commit bf1c4471137f10b7de9d79519ca2240058997e18
Author: Roland Scheidegger <rscheidegger_lists@hispeed.ch>
Date:   Thu Mar 23 18:04:17 2006 +0000

    commit the actual changes instead of just the Changelog...

commit aa5fff9bae4818bbf99e8d9caa8f2ce9905294ca
Author: Roland Scheidegger <rscheidegger_lists@hispeed.ch>
Date:   Thu Mar 23 17:59:25 2006 +0000

    Use programmable tap coefficients for (hopefully) better video image
        quality when downscaling. Remove unnecessary code programming the tap
        coefficients twice. Disable some code which is supposed to improve
        filtering quality but causes very visible image quality problems at
        least with rv250 when upscaling. Fix potentially broken FOURCC_RGB16T
        format (untested if it was broken, untested if it works now...). Change
        some magic numbers to (new) macro defines.

commit 17c52ff15ebe2cf220d5988ee13b599c41799886
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Thu Mar 23 01:37:15 2006 +0000

    Call RADEONRestoreCommonRegisters() before RADEONRestoreCrtc2Registers()
        instead of after. I can't find any good reason why we did it backward
        until now and it definitely causes problems as the workaround for VT
        switch in RADEONRestoreCommonRegisters() will break output to the
        secondary head in various situations. Also does an unrelated minor
        update to a comment.

commit 673e4d7501861066fdd0874919a4524b820b944b
Author: Kristian HÃ¸gsberg <krh@redhat.com>
Date:   Thu Mar 23 00:06:56 2006 +0000

    Add atipciids.h.

commit 5dcb4152dca6ac1fe9342f44eb48c0198b15772e
Author: Kristian HÃ¸gsberg <krh@redhat.com>
Date:   Wed Mar 22 22:30:14 2006 +0000

    Convert use of xf86fopen() and other xf86 wrapped libc symbols to use libc
        symbols directly. The xf86* versions aren't supposed to be used
        directly.
    Drop libc wrapper; don't include xf86_ansic.h and add includes now missing.

commit 21acdf371e3cf913c5affbd3e86641cfb115311c
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Sat Mar 18 00:08:24 2006 +0000

    Clear the offsets when updating the memory map instead of when enabling the
        CRTCs and try to make that code more reliable. Doesn't disable the
        CRTCs beforehand.

commit 323ecb92e40d71c5ef994b41b6d8dedba6dd6203
Author: Roland Scheidegger <rscheidegger_lists@hispeed.ch>
Date:   Fri Mar 17 03:00:53 2006 +0000

    Fix various small cosmetic issues. Change a driver message, get the order
        right for requesting drm versions, replace the use of some numbers with
        the respective macro defines in radeon_video.c, and add some more macro
        defines. None of that really matters.

commit dc552edf191e14249421f8b27146874f16b80c1a
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Thu Mar 16 21:53:58 2006 +0000

    Add missing return statement (the driver would not start randomly), add
        RV410 to the list of new generation cards for the memory map setup and
        fix a bogus message.

commit 901409f47cc990721c1648b1c08e23450e6a4452
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Thu Mar 16 04:32:22 2006 +0000

    Fix incorrect CRTC2_OFFSET values when using old-style dual head (not
        MergedFB). Fixes Xinerama for me.

commit 4d6656062129da0489eb4bc898871379ba891d8f
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Thu Mar 16 03:09:34 2006 +0000

    Add various workarounds that seem to fix some remaning lockup scenarios I'm
        experiencing with the driver when setting the memory map. Some of the
        magic delays are a bit dodgy but they seem to work, I suppose I can't
        do better now without help from ATI. Also removed some really too noisy
        debug messages.

commit 36799e3ea7ddde5fce528e8bc17ea942933a9111
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Wed Mar 15 04:03:37 2006 +0000

    Fix various issues with DRI & server recycle by putting DRICloseSreen in
        the normal CloseScreen callback chain at a spot that matches the call
        to DRIFinishScreenInit in order to unwrap at the right time.

commit 50923b6a9325592edc8b02b17646f96b9b8c4a01
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Mar 15 00:46:33 2006 +0000

    Add some autoconf to keep this driver from building EXA when a slightly
        older server with older exa is installed.
    The way in which this problem was treated by the actually related
        developers explains a lot about this driver.

commit 74f4ed4275866475b3c182fae962df2fc0946b85
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Mon Mar 13 02:57:17 2006 +0000

    Fix typo in the function setting the color space transformation factors for
        old radeon

commit 65625c6c2053792cd14b54c904bf46f360ef1565
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Mon Mar 13 00:09:44 2006 +0000

    Earliest fix introduced a bug due to another chicken & egg problem in card
        detection. Now split PreInitConfig into PreInitChipType and PreInitVRAM
        so that PreInitDRI can be done just in between. Restores proper AGPx4
        functionality (when enabled)

commit 3a290115af41b0ecb94eb201d7e7abb42ebbfec6
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Sun Mar 12 06:53:27 2006 +0000

    Stop using xf86PciInfo.h, instead use a local copy of the PCI IDs we need
        in atipciids.h so we can update the ATI driver independently of the
        server when new chips are added

commit d6b8f0a5eeb332563ec3ec7082f03be1797d26d8
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sat Mar 11 04:19:47 2006 +0000

    Add #ifdef XF86DRI guards around references to info->allowPageFlip and
        info->depthMoves, since they are only defined if building with DRI.

commit 69fe90bc501df9bd9e74b894bfca79a4025725bd
Author: Roland Scheidegger <rscheidegger_lists@hispeed.ch>
Date:   Fri Mar 10 13:00:49 2006 +0000

    Use "FBTexPercent" option for XAA too (only for increasing memory reserved
        for textures).

commit 8033d7423267fc1b3725df6a077dd910b586daaf
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Thu Mar 9 23:26:27 2006 +0000

    More memory map fixes !!! This time, we add a way to get the DRM kernel
        module version early, in order to properly limit the framebuffer size
        when a module that doesn't support the new map is loaded. That will
        improve backward compatibility. I also made the minimum required kernel
        module version 1.3 which hopefully shouldn't be a problem for anybody,
        and cleaned up the ordering in which we test for DRM version to enable
        features

commit c637939d3c4ce5cdddbc5200d5ffbca4c3927050
Author: Michel Daenzer <michel@daenzer.net>
Date:   Thu Mar 9 15:41:16 2006 +0000

    RN50: Skip modes that exceed memory bandwidth.
    Bugzilla #5766 <https://bugs.freedesktop.org/show_bug.cgi?id=5766> Patch
        #4636 <https://bugs.freedesktop.org/attachment.cgi?id=4636>
    - Acknowledge that RN50 only has one CRTC, and use this to distinguish it
        from RV100.
    - Fix detection of RN50 memory type and bus width.
    - Model RN50 memory bandwidth limits by capping the pixel clock range based
        on memory clock, bpp and memory bus width. (ATI Technologies Inc.)

commit 890b95a3ddad7634f3aea635cb236b221e902acc
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Mar 9 06:06:25 2006 +0000

    Update drivers that support EXA for the new EXA ABI. This consists of
        moving all the accel and card members into the driver ptr, filling in
        the exa_major/ exa_minor fields, and always using LoadSubModule so we
        can check the module version up front. Only tested on ATI.

commit e19ccfa18fee046c54d7a9401e4e0098b2300598
Author: Michel Daenzer <michel@daenzer.net>
Date:   Fri Mar 3 16:41:41 2006 +0000

    Add Option "FBTexPercent" to override the amount of video RAM reserved for
        OpenGL textures with EXA.

commit ca00035eccb6e3495b27f8e64f2d016d8d2a9ce2
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Thu Mar 2 02:05:17 2006 +0000

    Fix the fix ... I didn't interpret PciInfo->size properly and forgot that
        the function works in Kb not bytes... Ooops.

commit b2145aea36bb035bff048366c607b967d70fff49
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Wed Mar 1 21:35:14 2006 +0000

    Extend the alignement workaround to post-rv280 chips as well (thanks Hui)
        and also limit the CPU accessible memory to the size of the PCI BAR
        size (yeah, it was passed to the driver, I just got blind for a while
        it seems)

commit 163581a82fe9395672c31b41cd67aa44158f5201
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Tue Feb 28 23:34:03 2006 +0000

    Workaround for rv280 bug which needs the framebuffer memory mapping to be
        aligned to its own size. Also add back limit of 128Mb of mapped fb
        space for now until I fully sort out what's up with dual function
        cards. I would really need to access the PCI BAR sizes here but that
        information seem to be missing from the PCI info passed to the driver.

commit 5ff8fb2bea1fe7d14db53c19ff3a3a56668ec417
Author: Roland Scheidegger <rscheidegger_lists@hispeed.ch>
Date:   Tue Feb 28 00:52:53 2006 +0000

    Add the newly added (and tons of previously forgotten ones) pci ids to the
        ati wrapper too (probably not required for it to work as everything
        should default to radeon anyway there).

commit 1574b41a0f894f9b6e30d3ee94e596695a4c64f0
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Sun Feb 26 10:01:32 2006 +0000

    Fix page flipping with XAA. The new code ended up calling ShadowFBInit()
        before XAAInit(), which breaks ShadowFB.

commit 1f43a584a684af8078631425886cce236500e0e6
Author: Roland Scheidegger <rscheidegger_lists@hispeed.ch>
Date:   Sat Feb 25 01:57:05 2006 +0000

    Add pci ids known to exist (see #4284 for instance). There are still
        entries which probably don't really exist (cancelled cards and such),
        leave them as-is. Fix the name of some entries, mostly based on the
        .inf file of the newest catalyst driver. Use own family id for rv410
        and rs400, though there is no different code (yet?).

commit 5c141bb15d1163e04c012a0cdf0699d534f0be37
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Thu Feb 16 23:27:44 2006 +0000

    Memory map and misc fixes. This completely reworks the way the driver
        detects available & accessible video memory and initializes the card
        internal memory map. Along the way, I re-ordered some of the stuffs in
        pre-init in order to remove some dodgy codepath, fixed various init,
        exit and vt switch issues, and overall made the driver more robust. The
        full memory map fix requires an updated DRM. The X driver no longer
        tries to position the AGP aperture, this becomes entirely DRM
        responsibility.

commit 8c6e5a6eb50d371fd4ec700c26aa628cb5f45731
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Wed Feb 15 23:36:55 2006 +0000

    The engine setup would trigger a bogus line write before the proper
        addresses are setup, thus causing the card to try to bus master over
        the system bus to some stale location (usually 0 but could depend on
        whatever was used before X). Remove that useless init bit, and always
        setup some good enough engine source & destination pointers in case we
        have some other spurrious engine activity going on.

commit d4ec0223029d8fe03a836a5a6e9a7cc8897b4c90
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Mon Feb 13 05:30:13 2006 +0000

    Fix EXA acceleration of textures with byteswap or tiling From John Clemens
        <john@deater.net>

commit 79c60ebbc34aaf0ac0b0723898d5b63015547178
Author: Eric Anholt <anholt@freebsd.org>
Date:   Tue Feb 7 04:39:59 2006 +0000

    Fix a copy'n'paste-o in the EXA render implementation that resulted in
        [ax]8b8g8r8 pict formats not being supported on r200, but no other
        issues.

commit 8d74f3d49e73626f5d658ba6586a7c1487dae141
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Jan 19 14:20:37 2006 +0000

    Bug #5656: Set all Radeon XPRESS 200 R[CS]4xx-based chips to have IsIGP =
        1, fixing modesetting issues.

commit e490f4b86e6bba70f7c884fca3cf41d159323689
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Fri Jan 13 01:37:43 2006 +0000

    XF86_VERSION_CURRENT -> XORG_VERSION_CURRENT

commit ac296d9137b02753bc79a9930d168855adea9c95
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Fri Jan 13 01:02:01 2006 +0000

    When failing to parse MetaModes, reset CRT2pScrn to NULL after free'ing it
        so we don't crash when trying to use it later (such as in
        RADEONFreeRec).

commit dd98ce78407c9eddd7adaad1d73d6910e6949b87
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sun Jan 8 19:02:16 2006 +0000

    Bug #5523: Make radeon compile without USE_XAA. (Tilman Sauerbeck)

commit a99429b2bc6407ff2a094e6ee30ce2032f734966
Author: Kevin E Martin <kem@kem.org>
Date:   Wed Dec 21 02:29:59 2005 +0000

    Update package version for X11R7 release.

commit 96e225b950c74e64f3f788be8a8489c5075ea55a
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Dec 19 16:25:52 2005 +0000

    Stub COPYING files

commit 6bea785ea0bdf01673a6ddc45765ae7372fdd371
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Mon Dec 19 09:07:50 2005 +0000

    Typo fixes, mailing list & url updates, and other changes to prepare for
        X11R6.9 & 7.0 releases.

commit 07d5cf8fc37eb72dbb344081ff07d59dbf568e9c
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Thu Dec 15 23:15:37 2005 +0000

    Bugzilla #5238 <https://bugs.freedesktop.org/show_bug.cgi?id=5238> Patch
        #3978 <https://bugs.freedesktop.org/attachment.cgi?id=3978> r128 man
        page dualhead note update (Alex Deucher)

commit 6db5cbfbf6d405d9871892d1255dd7442e4539e9
Author: Kevin E Martin <kem@kem.org>
Date:   Thu Dec 15 00:21:32 2005 +0000

    Update package version number for final X11R7 release candidate. Bump
        driver version number.

commit 726fd3a81dfbd1b0c8e4ede104a48523daecab92
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed Dec 14 19:41:28 2005 +0000

    Bug #1760: Fix ati wrapper multihead to be dlloader friendly.

commit 328a2d74dabe32ce35e879799412666feedb0eef
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Dec 9 18:25:02 2005 +0000

    Bug #3869: Don\'t walk off the end of an array in connector detection.
        (Eric Anholt)

commit 03961a05438e916b6725f4e547f23a84ead13c5e
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Dec 9 18:15:31 2005 +0000

    Bug #1106: Fix memory allocation for Render. (Michel Daenzer)

commit 091e5c584124f9b849c0f46802b2f0d8b0cc2388
Author: Kevin E Martin <kem@kem.org>
Date:   Thu Dec 8 17:55:18 2005 +0000

    Add configure options to allow hard-coded paths to be changed.

commit e38e2df15c9a4b08dee6386a225e98827bb35aad
Author: Kevin E Martin <kem@kem.org>
Date:   Thu Dec 8 17:54:40 2005 +0000

    Allow hard-coded paths to be configurable.

commit b8203604bf9bd3813668313a1c8c17040b9d93ce
Author: Kevin E Martin <kem@kem.org>
Date:   Tue Dec 6 22:48:33 2005 +0000

    Change *man_SOURCES ==> *man_PRE to fix autotools warnings.

commit a86920e812bfd40ec9facfc234220e83066dd263
Author: Kevin E Martin <kem@kem.org>
Date:   Sat Dec 3 05:49:32 2005 +0000

    Update package version number for X11R7 RC3 release.

commit 010adc8988846e6f76f111a9fd32eca021d12fbc
Author: Kevin E Martin <kem@kem.org>
Date:   Sat Dec 3 05:45:17 2005 +0000

    Bump version numbers for X11R6.9/X11R7 RC3.

commit a5efa6724e7fd8318e262060b084630632dfcb44
Author: Kevin E Martin <kem@kem.org>
Date:   Fri Dec 2 02:16:07 2005 +0000

    Remove extraneous AC_MSG_RESULT.

commit feeef3cba1f4736a96daf3002ec902ced2874198
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed Nov 30 18:51:22 2005 +0000

    Bump libdrm dep to 2.0.

commit 7ca2b3fa30fedd07951f7c6e73ed4d2a6f6606ea
Author: Adam Jackson <ajax@nwnk.net>
Date:   Tue Nov 29 23:29:58 2005 +0000

    Only build dlloader modules by default.

commit e167e5151e32d54919e96cbfdcf932e16b1cab2a
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Mon Nov 28 22:04:08 2005 +0000

    Change *mandir targets to use new *_MAN_DIR variables set by xorg-macros.m4
        update to fix bug #5167 (Linux prefers *.1x man pages in man1 subdir)

commit 0015b1a007bed61aaf389f8f927e4ae0568d7da7
Author: Eric Anholt <anholt@freebsd.org>
Date:   Mon Nov 21 10:49:09 2005 +0000

    Add .cvsignores for drivers.

commit 00b8f6ccfbb5163c47e9def0e4ecc6ac7be7e8af
Author: Eric Anholt <anholt@freebsd.org>
Date:   Fri Nov 11 11:05:42 2005 +0000

    Bug #1028: Don't (incorrectly) mark the 24/8 z/stencil case as slow, which
        resulted in whining at runtime about the visual not being supported.

commit 33326847ccc9cf4cd6a23a257e5392e348e6dd22
Author: Kevin E Martin <kem@kem.org>
Date:   Wed Nov 9 21:31:20 2005 +0000

    Bump version numbers for X11R6.9/X11R7 RC2.

commit 68e11246bd6f6a641807230834dce4e7fd6911af
Author: Kevin E Martin <kem@kem.org>
Date:   Wed Nov 9 21:15:14 2005 +0000

    Update package version number for X11R7 RC2 release.

commit 1582d3b34643babcbb794d2df8d7c9a755d569c9
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Nov 9 17:42:57 2005 +0000

    Bug #4998: Add ';' and ',' as valid separators for MetaModes as well.

commit 2d22d78d157e07e6ec6a3e2d03fc17f102f6e00e
Author: Kevin E Martin <kem@kem.org>
Date:   Wed Nov 9 07:30:03 2005 +0000

    Fix DoLoadableServer NO build.

commit 999f67763a5ea9fef7b7b576262f0da079efcfee
Author: Michel Daenzer <michel@daenzer.net>
Date:   Tue Nov 8 16:30:48 2005 +0000

    bugzilla #988 (https://bugs.freedesktop.org/show_bug.cgi?id=988) Fix typo
        which may or may not have had a negative impact on stability with R300
        class cards.

commit 5aa401efa0b8d81da418eafeb857142a33f85da9
Author: Michel Daenzer <michel@daenzer.net>
Date:   Tue Nov 8 14:05:00 2005 +0000

    bugzilla #4494 (https://bugs.freedesktop.org/show_bug.cgi?id=4494) Call
        RADEONDGAInit() even if EXA is enabled; the problematic DGA
        acceleration hooks are already disabled in that case.
    This fixes DGA issues such as DGA mouse (typically used by games in
        fullscreen mode) not working.
    Fix suggested by Eric Anholt.

commit 345180131a7b2752773dc2a3ee1221ad1e05c815
Author: Michel Daenzer <michel@daenzer.net>
Date:   Tue Nov 8 13:35:23 2005 +0000

    bugzilla #4916 (https://bugs.freedesktop.org/show_bug.cgi?id=4916) Fix
        segfault with MergedFB and EXA enabled and HW cursor temporarily
        disabled.

commit 23911421ffa7bdd2e191a72c41bf1f26c92c1a67
Author: Michel Daenzer <michel@daenzer.net>
Date:   Tue Nov 8 09:44:41 2005 +0000

    bugzilla #4951 (https://bugs.freedesktop.org/show_bug.cgi?id=4951)
        attachment #3689 (http://bugs.freedesktop.org/attachment.cgi?id=3689)
        Fix HW cursor getting silently disabled with EXA.

commit e1259c0117a190cf4c6e7be07d5aa83e03afb3a0
Author: Bogdan Diaconescu <b_diaconescu@yahoo.com>
Date:   Mon Nov 7 19:28:40 2005 +0000

    Replaced the variadic macros(gcc) by macros according to C99 standard

commit 67bdaae04ab37f38a6d0c8dc4b6328c3ba3b3393
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sun Nov 6 07:41:29 2005 +0000

    Sun bug #6325220: Xorg dumps core in dual monitor configuration with radeon
        driver if CRT2Position not specified in xorg.conf
        <http://bugs.opensolaris.org/bugdatabase/view_bug.do?bug_id=6325220>
        (Stuart Krietman - Sun Microsystems)

commit 733ebf6e4a7c7b2f1a861077d43da2a853e4c0d7
Author: Kevin E Martin <kem@kem.org>
Date:   Tue Nov 1 15:08:52 2005 +0000

    Update pkgcheck depedencies to work with separate build roots.

commit dd0eb76337bfdaec8f456380a6ced9e0487e190f
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Oct 21 18:40:18 2005 +0000

    Bug #4829: Remove some useless DRI symbol checks.

commit e6c1859e3a7c84b882e0c30d0783255ed1258d9e
Author: Donnie Berkholz <spyderous@gentoo.org>
Date:   Thu Oct 20 23:01:58 2005 +0000

    Bug #4831 <https://bugs.freedesktop.org/show_bug.cgi?id=4831>. Check for
        x86_64 in addition to amd64 in host_cpu.

commit 33460fb393c9591babcc43b30a73eef3971765c2
Author: Kevin E Martin <kem@kem.org>
Date:   Wed Oct 19 02:48:02 2005 +0000

    Update package version number for RC1 release.

commit 77d5c3549db4f6a7ff9f969f885d7a4e58ab2b16
Author: Kevin E Martin <kem@kem.org>
Date:   Tue Oct 18 15:46:37 2005 +0000

    Do the following to make the drivers pass distcheck:
    - Only define EXTRA_DIST when there are actually man pages to be processed
    - Add missing man pages to keyboard and ati drivers EXTRA_DIST

commit 35e717078c840414b0d6a0e37b3ffed0a7b102aa
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Tue Oct 18 00:01:52 2005 +0000

    Use @DRIVER_MAN_SUFFIX@ instead of $(DRIVER_MAN_SUFFIX) in macro
        substitutions to work better with BSD make

commit ff6e5b0412fe347575992c83bb7cb47b6f96f390
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Oct 17 22:57:32 2005 +0000

    More 1.7 braindamage: define EXTRA_DIST in terms of @DRIVER_NAME@ instead
        of indirectly

commit a2e7c55850d383e3af948d445b1645d8a47811cf
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Mon Oct 17 00:09:01 2005 +0000

    Use sed & cpp to substitute variables in driver man pages

commit 524fb1440760a14c53fb3f238aad6c3cdb7e6a08
Author: Dave Airlie <airlied@linux.ie>
Date:   Sun Oct 9 10:36:50 2005 +0000

    Secure the Radeon PCIE GART tables in framebuffer memory by not allowing
        the clients to get access to a secure area of framebuffer.

commit e526211b86ec5343002978debfcf78f74a10c69e
Author: SÃ¸ren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Tue Oct 4 20:01:03 2005 +0000

    Check in generated README files

commit 431d0e144ae4c294e1f6110fc3db497ce9bd9cfd
Author: SÃ¸ren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Mon Oct 3 21:22:07 2005 +0000

    - For all drivers that have a <driver>.sgml file, add code in their build
        system to build the README file at make dist time
    - in util/macros/xorg-macros.m4, add a new XORG_CHECK_LINUXDOC macro that
        will check if the required tools and files exist, and if so set a
        conditional.
    - util/modular/symlink.sh
    - Link all the <driver>.sgml to xf86-video-<driver>/README.sgml
    - Add all the README.<driver> to the list of excluded files
    - xc/programs/Xserver/hw/xfree86/doc/sgml/SiS.sgml: Various changes to make
        it spew less warnings when the text file is built.

commit 9147c20e5ff662ac511a19e7623b406dffee2242
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Oct 3 06:14:58 2005 +0000

    Bug #4001: Don't crash when PanelSize is unset. (Alan Coopersmith)

commit 7e2090e3ebf0bd699d66d336353c097d658a86ae
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Sat Oct 1 20:42:06 2005 +0000

    missed one missing return value.

commit a843e4281134de1545d538cb8970179b1d6977f6
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Sat Oct 1 17:09:48 2005 +0000

    add missing return value on success in RADEONSetupMemXAA().

commit 98f7d043f894c73fecaf14440c1a24b6c2fc4b06
Author: SÃ¸ren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Wed Sep 28 15:10:38 2005 +0000

    Make ati driver distcheck
    radeon_commonfuncs.c \
    radeon_exa_render.c \
    radeon_exa_funcs.c \

commit e7b1af5d1677e53820dd1c0926cc8b5a4284901e
Author: Roland Scheidegger <rscheidegger_lists@hispeed.ch>
Date:   Tue Sep 27 23:55:15 2005 +0000

    Move the RADEONEnablePageFlip/RADEONChangeSurfaces calls back to the end of
        the function (the code above will cause pixmap cache to be freed and
        copied around, and these functions must be called after that otherwise
        pixmap damage will occur). May be related to #4440, #4456 (unclear if
        these setups involve 3d apps)

commit bc3c26fe365347c427e04385c1df95a5eec14f28
Author: Eric Anholt <anholt@freebsd.org>
Date:   Tue Sep 27 23:34:11 2005 +0000

    Fix Radeon MMIO Render acceleration with EXA by writing out floating- point
        coordinates rather than integers.

commit 58dfb95c446b73fbc34784f0894cf89152dab043
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sat Sep 24 18:45:45 2005 +0000

    Disable the {Open,Close}FullScreen DRI protocol. Remove empty FullScreen
        stubs from drivers, comment the non-empty ones.

commit 65b5f0017e29903565aff0b7527d955ed016c9a6
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Tue Sep 20 16:53:34 2005 +0000

    Only include radeon_dri.h & radeon_sarea.h if XF86DRI is defined.
    Include "compiler.h" to define __inline__ on non-gcc compilers

commit 0b7441b19a1a5df91aca6b1a02944afb636bc523
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sun Sep 18 02:32:23 2005 +0000

    Break EXA ABI while we still can. Add coordinates to the UploadToScreen
        hook so we can upload a subset of a pixmap, and convert the current
        drivers to respect that. Use this support to directly UploadToScreen in
        exaGlyphs, providing a 47.4% +/-2.4% decrease in wall time for ls -lR
        programs/Xserver in an antialiased gnome-terminal on an M6 (n=3, caches
        hot). I would have bumped major version, only I can't tell what the
        EXA_VERSION_* is supposed to be doing as opposed to the module version.

commit 64e7db2698ee48af92594c16d72e33c16372c9d7
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sat Sep 17 20:02:01 2005 +0000

    - Don't try to upload 0 byte-per-pixel (PICT_a1) data using
        RADEONHostDataBlit.
    - Disable the shortcut for switching from 3d to 3d in radeon_exa.c. It
        appears that we do need the cache flush here, thought it's not clear
        why. Disable the 2d to 2d shortcut while here, since I'm unsure of what
        we're doing. Exposed by the following bit:
    - Bug #4485: Add a new routine, exaGlyphs, to handle font drawing. Glyphs
        were being accumulated in from non-migratable scratch pixmaps, causing
        the destination pixmap to move towards screen but the migration
        necessary for source never to happen, leading to abysmal performance.
        Instead, copy the scratch glyph data into a real pixmap first, then
        composite from that into the destination, allowing for migration. time
        ls -lR from programs/Xserver showed 26.9% (+/- 6.3%) decrease in wall
        time (n=3).
    - Create exaDrawableUse* wrapping exaPixmapUse*, but which are aware of
        windows needing backing store. Makes migration code prettier, and
        ensures that composited windows will be migrated as normal when we turn
        off cw for EXA. (issue brought up by keithp)

commit 3c71198a088e71a105e274f176c8ceb503615d46
Author: Dave Airlie <airlied@linux.ie>
Date:   Sat Sep 17 07:47:51 2005 +0000

    Switch radeon driver to using a card type rather than having a IsPCI flag,
        allow for PCI/AGP/PCIE cards. Set PCI gart allocation to only happen on
        PCIE cards. Add Radeon PCIE card detection using capability bits.

commit 10cf3523f236a017a1ca7e5ee57e02176b924059
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Sep 14 22:06:41 2005 +0000

    Bug #2573: Remove the disabling of automatic cache flushing on non-r300
        cards. It has been implicated in hanging at least r300s and some r100s,
        and seemed to be the cause of some bad rendering for me.

commit d68894a463a3bb08c97e91ff6fc4b65b29183ff6
Author: Eric Anholt <anholt@freebsd.org>
Date:   Tue Sep 13 22:04:12 2005 +0000

    Remove the hardcoded USE_EXA/USE_XAA defines now that they've been
        hardcoded in configure.ac (config.h).

commit baa9b5b6e19cf9794bf810e3c582bf1d7f808663
Author: Dave Airlie <airlied@linux.ie>
Date:   Mon Sep 12 09:27:07 2005 +0000

    Fix Radeon EXA for when RENDER isn't defined

commit 8c89610389197dc94d3bceaf44d9d2ea91848f1b
Author: Dave Airlie <airlied@linux.ie>
Date:   Mon Sep 12 09:17:42 2005 +0000

    Move GART offset/size outside XAA

commit eba44d9747adde8385f2a242dee5a8e73ce5a205
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Sep 12 09:04:36 2005 +0000

    Define USE_XAA and USE_EXA for the time being.

commit a255e7b0984890daad98b74ace0c572965fe61f5
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sun Sep 11 21:00:44 2005 +0000

    Attempt to fix up the modular pieces for EXA support. (untested)

commit 3e0d9c945a6a71cc476d27341ef18618529a91a8
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sun Sep 11 20:58:53 2005 +0000

    Add support for EXA to the radeon driver. Building EXA and XAA support is
        controlled at compile time, plus the runtime option of Option
        "AccelMethod" "EXA" or "XAA". The XAA support appears to remain as
        before, while the EXA pieces need just a little more polishing. Notable
        features:
    - Render acceleration working on Radeon 100 and 200-series with DRI on.
    - DRI works with EXA Notable issues:
    - DGA disabled in the EXA case.
    - Backbuffer moves disabled in the EXA case.
    - No textured XVideo.
    - MMIO render acceleration is close but still has some issues.
    - Memory pressure while using Composite is really troublesome with DRI on.
        This patch is based on an initial patch by Zack Rusin, with significant
        work by Benjamin Herrenschmidt and myself.

commit fd62082b68ac3aadd8ffc441352d75d88334904e
Author: Dave Airlie <airlied@linux.ie>
Date:   Sun Sep 11 08:51:38 2005 +0000

    Add support for allocating PCI GART table in framebuffer memory. This is
        needed to support PCIE Radeons using a new DRM.

commit cb63f8d9c0563fb0eff28e2be6d4adf5666540d2
Author: Dave Airlie <airlied@linux.ie>
Date:   Tue Sep 6 10:03:19 2005 +0000

    Handle VIP timeouts more gracefully -- impose a hard limit of 10ms on
        waiting for VIP_BUSY so we don't lock up hard, spinning.

commit dbd83cf18e1bf5e7e31e1ac150227bd27e8b1739
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sun Aug 28 20:51:14 2005 +0000

    Bug #4148: Bump required DRM version for r300 to 1.17.

commit ce0589ff3b9fcf8c6bab64da4dba40ba540a6a03
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sun Aug 28 18:10:34 2005 +0000

    Bug #1109: Fix VGA init on Rage Mobility 7500 (Marc Le France)

commit 250c8732a54924eeb459880f2905f8e59d038e60
Author: Bogdan Diaconescu <b_diaconescu@yahoo.com>
Date:   Sun Aug 28 18:00:23 2005 +0000

    Modified the licens type from GPL to a X/MIT one

commit 94c0196652c3cfa0558f61b55f5df9bf50f9ac49
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Fri Aug 26 20:04:01 2005 +0000

    #include "extensions/dpms.h" -> <X11/extensions/dpms.h>

commit 107e42cabe1cc41fe86b0218c3229b5f34b2df84
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Aug 26 07:00:24 2005 +0000

    Fix 'ugly' warning in r128. (Branden Robinson, Debian #069)

commit d3f5911c85ccfaaf50c05ce80d56dac13fd15701
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Aug 26 05:30:52 2005 +0000

    Only use vgahw symbols if we're building vgahw for this architecture. TODO:
        Fix this for the modular tree (maybe an unconditional yes?). Define
        that we're using a DPMS server and include DPMS headers. (Debian #024b)

commit 879213455740d2d653d38c712275f07610e4dc9c
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Fri Aug 26 02:11:24 2005 +0000

    - fix pitch increment (Aapo Tahkola, Roland Scheidegger)

commit 6519cc71e4387ef979de90be517145611511ff1a
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Aug 25 03:34:58 2005 +0000

    Fix bug in Radeon connector table parsing -- parse all entries, not just
        the first. (Ben Herrenschmidt)

commit 8734a5d0bafb60f5e38b2cee10587f01fc016379
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Aug 25 03:07:50 2005 +0000

    Blacklist Radeon M300 from multimedia I2C code. Handle I2C timeouts more
        gracefully -- impose a hard limit of 10ms on waiting for I2C_GO so we
        don't lock up hard, spinning.

commit 578564b4f7fce1f02d056c2b12ffb7803d268829
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Aug 22 03:05:52 2005 +0000

    Explicit license statement.

commit c9005c91bf6aaf4728a6606284f5d24e0b4a8282
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Aug 18 09:03:46 2005 +0000

    Update autogen.sh to one that does objdir != srcdir.

commit 508a7421a1386b5b783a867d860b858a55f216d3
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Mon Aug 15 07:30:05 2005 +0000

    Egbert's 64bit fixes for mixed 32/64bit clients

commit 204290412fbe8b4ac1a0f4f97bc7aec2847a1df7
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Aug 14 16:14:51 2005 +0000

    Make DGA, CPIO, non-PCI, and TV-Out support detected per-platform, using
        the same semantics as in drivers/ati/Imakefile.

commit adb093bdf3cea8108a40bcd72f09924b416de0c1
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Mon Aug 8 23:42:36 2005 +0000

    - radeon XPRESS chips are actually RV3xx based

commit 9c11018beb186b4b303524685fb62629b9ca863e
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Sun Aug 7 14:46:55 2005 +0000

    Modified:
    programs/Xserver/hw/xfree86/drivers/ati/radeon_driver.c
    Update warning about DRI support on R300 and later cards.

commit a28b2c76c7df2fe65a93eed34bc85c2cf5afb314
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Sun Aug 7 14:40:58 2005 +0000

    Modified:
    programs/Xserver/hw/xfree86/drivers/ati/radeon_driver.c
    Properly configure fbLocation and related registers for R300 cards. (Dave
        Airlie)

commit 692fb0f8b51abeccaf70b51fc1defc62132b15e9
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Sat Aug 6 17:23:16 2005 +0000

    - missing line in mergedfb option parsing. Spotted by Christoph Bauer

commit 14e77a39320a7a074b5c2eeeea9750b469abc978
Author: Ian Romanick <idr@us.ibm.com>
Date:   Fri Aug 5 23:04:32 2005 +0000

    I have resolved this by making all the "Direct rendering disabled" messages
        X_WARNING and all the "Direct rendering enabled" messages X_INFO.
        Ideally, we need to factor some of this stuff out to common code. There
        is a *LOT* of duplication among the *_dri.c files under
        programs/Xserver/hw/xfree86/drivers.
    I'm trying to clean up as much low hanging fruit as I can and got tired of
        waiting for ajax. :P

commit 8e88d36f78c13025847310b411402f1d46a2e0cd
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sun Jul 31 17:19:27 2005 +0000

    Post-merge fixups:
    - Disable building the gamma driver
    - Fix numerous Imakefiles to get header paths and subdirs right
    - Symlink client-side GLX lib source from Mesa
    - Add new shader subdirs to the Mesa core build
    - Tweak the DDX drivers to not ask for "xf86dri.h"; they don't need it,
        since they don't generate protocol, and it was breaking the build.

commit fb9f712fd1044feb8ce6a99aabaeb5966123e268
Author: Kevin E Martin <kem@kem.org>
Date:   Fri Jul 29 21:22:42 2005 +0000

    Various changes preparing packages for RC0:
    - Verify and update package version numbers as needed
    - Implement versioning scheme
    - Change bug address to point to bugzilla bug entry form
    - Disable loadable i18n in libX11 by default (use --enable-loadable-i18n to
        reenable it)
    - Fix makedepend to use pkgconfig and pass distcheck
    - Update build script to build macros first
    - Update modular Xorg version

commit ee45e1fb5da793fa14770b28fd662e69d52b2c6a
Author: Michel Daenzer <michel@daenzer.net>
Date:   Fri Jul 29 19:45:14 2005 +0000

    bugzilla #3911 (https://bugs.freedesktop.org/show_bug.cgi?id=3911)
        attachment #3191 (http://bugs.freedesktop.org/attachment.cgi?id=3191)
        Disable bus mastering while updating MC_FB_LOCATION and friends to
        prevent the X server from hanging on startup every now and then under
        some circumstances. (ATI Technologies Inc.)

commit 44a66ec5a01c3b4dfa046a66b80a3b7e9dfff537
Author: SÃ¸ren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Fri Jul 15 15:02:47 2005 +0000

    Install theathre drivers in @moduledir@/multimedia

commit dbcf104689ca368523715eb5945bcd800985799b
Author: Kevin E Martin <kem@kem.org>
Date:   Fri Jul 15 03:39:58 2005 +0000

    Fix filename typo

commit 2256fabf1cd69c950639f236f61e59e68cc8e6fa
Author: Kevin E Martin <kem@kem.org>
Date:   Thu Jul 14 22:30:47 2005 +0000

    Fix check for headers. Use {XORG,DRI}_CFLAGS subst instead of replacing
        CFLAGS.

commit 520317863ffb365eca17c96b4d545adb554bbbd6
Author: Kevin E Martin <kem@kem.org>
Date:   Thu Jul 14 19:35:48 2005 +0000

    Make compiling with DRI support configurable/autodetecable. Autodetect DRI
        sdk headers. Expand help string for xorg-module-dir option.

commit ab5264838ae34bb29791bc08d5a4f853a995faf1
Author: SÃ¸ren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Thu Jul 14 17:10:01 2005 +0000

    fuck you cvs

commit a608c4422665ce1e933483b7c2a25ab2daae5930
Author: SÃ¸ren Sandmann Pedersen <sandmann@daimi.au.dk>
Date:   Thu Jul 14 16:03:36 2005 +0000

    Try adding build system for ATI driver again. Who knows, maybe CVS works
        today.

commit d715561d28d82591adf5c7504068c1818eb2245c
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Jul 11 02:29:45 2005 +0000

    Prep for modular builds by adding guarded #include "config.h" everywhere.

commit 5b37b695019b7a4522a96a63f1f6b035160e6a25
Author: Roland Scheidegger <rscheidegger_lists@hispeed.ch>
Date:   Mon Jul 4 23:44:59 2005 +0000

    Bug #2604: Disable workaround for horrible flickering when scrolling
        vertically in a virtual screen when color tiling and page flip are both
        enabled, as it potentially does more harm than good. The flickering
        still needs fixing probably though.

commit 08b886850f115f404187acd619aa2c2ca18ae3c7
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Jul 1 22:43:11 2005 +0000

    Change all misc.h and os.h references to <X11/foo.h>.

commit 1c7c3372776d6d116facabbf055f27af3e96f59f
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Fri Jul 1 04:16:42 2005 +0000

    - fix depth tiling for r3/4xx chips (Aapo Tahkola)
    - adjust limits for tiled surfaces on r3/4xx

commit e8c2574557950bfa150806432d566cd38c47158f
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Fri Jul 1 02:56:04 2005 +0000

    - Fix Support for Philips FM1236/F tuner on ATI AIW 9600 XT (Jeff Smith)
        Bug 3401

commit d258e1c1566d005693260230712c9d78f1447dba
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Thu Jun 30 04:46:11 2005 +0000

    - change back part of a comment I seem to have accidently changed.

commit 6d9c02d58eae1966e8fa8d7d305849c6e57434ad
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Thu Jun 30 02:02:10 2005 +0000

    - small mergedfb fix from Thomas Winischhofer

commit 85365b791542cab221c37c9b3b4593ea0c6c9e2d
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Thu Jun 30 01:40:17 2005 +0000

    - add support for colortiling on r3/4xx hardware (disabled by default). In
        order for pageflipping to work on r3/4xx we will need to update the the
        sarea and drm so that the crtc1/2 xytiling regs get updated. Initially
        worked out by Aapo Tahkola.

commit 3ec99c9cd821aeacdd57a9bbc20c4e4ec4711790
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Thu Jun 30 00:56:01 2005 +0000

    - Increase the priority of display 0/1 in the memory controller for r3/4xx
        hardware when displaypriority is set to HIGH. Fixes display problems in
        high res modes. Originally reported by Aapo Tahkola.

commit a7523e6c0be7a600963e9de10cf0060d16117bf6
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Thu Jun 30 00:33:36 2005 +0000

    - fix some OUTREGs that should be OUTPLLs in dynamicclocks code

commit c7e1d31c6aec3a99061c77c4d6f57e2e874e37f1
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sun Jun 26 04:38:12 2005 +0000

    Bug #3628: Fix video driver submodule visibility.

commit 1beca962ecee5b5c51eb2fb8451fcc2a2ed4b97c
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sat Jun 25 21:16:53 2005 +0000

    Bug #3626: _X_EXPORT tags for video and input drivers.

commit 9a4895c4c2fd9614d83adfe3967f4f46dc4dfff6
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Jun 22 22:50:49 2005 +0000

    Add missing detection of the PCI ID for 0x5b62, Radeon X600 (Vladimir
        Kushnir).

commit 43e3cc7c21160f4536ed860f97d02545c267dfbc
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Wed Jun 15 23:40:50 2005 +0000

    Sync up radeon mergedfb with Thomas' latest sis mergedfb changes:
    - non-rectangular mergedfb desktops
    - screen offsets

commit b67f9f5c875efaa41bded7ed2f38b2a5fbd17597
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sat Jun 4 20:26:28 2005 +0000

    Sync with 6.8.2 branch: Bug #591
        (https://bugs.freedesktop.org/show_bug.cgi?id=591) attachment #308
        (https://bugs.freedesktop.org/attachment.cgi?id=308): Fix video timing
        problems with Sony PCG-C1VN Vaio Picturebook notebook && co. Patch by
        Marc Aurele La France

commit daae70d9083e9c15358f160f0df3176e344f1cb9
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sat Jun 4 20:04:36 2005 +0000

    Sync with 6.8.2 branch: Bugzilla #1306
        (https://bugs.freedesktop.org/show_bug.cgi?id=1306) attachment #1291
        (https://bugs.freedesktop.org/attachment.cgi?id=1291): Fix SEGV in
        "radeon" driver. Patch by Kevin E. Martin <kem@freedesktop.org>

commit c27c193f192b117232dbe39575d3d5ab7c6a1b1e
Author: Felix Kuehling <fxkuehl@gmx.de>
Date:   Fri May 27 22:33:23 2005 +0000

    Fix for bugzilla https://bugs.freedesktop.org/show_bug.cgi?id=3414 (patch
        https://bugs.freedesktop.org/attachment.cgi?id=2782): Don't use RMX if
        we are Dell Server.

commit 3b674815e0a6d19b0719e71261c0909b92173aed
Author: Adam Jackson <ajax@nwnk.net>
Date:   Tue May 24 23:26:50 2005 +0000

    Typo fix from bug #3163 commit

commit 0845d1db801ae74688464bd4c41a7e40e4b50186
Author: Egbert Eich <eich@suse.de>
Date:   Mon May 23 09:50:20 2005 +0000

    Explicitely disable DPMS power states during close screen. Fix macro that
        takes a value and a mask of bits to modify to be behave evquvalently if
        the bits that should remain unchanged are set or unset in the value
        (Bugzilla #3369).

commit 74b86b036def72e5180a46871b8452ba9eea9bb1
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed May 18 17:47:35 2005 +0000

    Bug #3163: Create new DRIINFO_*_VERSION macros to indicate the version
        number of the DRIInfoRec, disambiguating it from the XF86DRI protocol
        version number. Modify DRIQueryVersion to return the libdri version
        number, which all DDXes were requesting implicitly. Fix the DDXes to
        check for the DRIINFO version they were compiled against.

commit 0f4a8fc6aa5157a8b48beb49f30511665cfa4b63
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Wed Apr 20 21:07:44 2005 +0000

    programs/Xserver/hw/xfree86/drivers/ati/theatre.h Build fix for
        DoLoadableServer = NO systems.

commit 3355d12f832909b05e8b022fad784c9f7af7341f
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Apr 20 12:25:22 2005 +0000

    Fix includes right throughout the Xserver tree:
    change "foo.h" to <X11/foo.h> for core headers, e.g. X.h, Xpoll.h;
    change "foo.h", "extensions/foo.h" and "X11/foo.h" to
        <X11/extensions/foo.h> for extension headers, e.g. Xv.h;
    change "foo.[ch]" to <X11/Xtrans/foo.[ch]> for Xtrans files.

commit 31cb4758eae4703d4de31a0b291847cefa855fc3
Author: Bogdan Diaconescu <b_diaconescu@yahoo.com>
Date:   Sun Apr 17 23:28:09 2005 +0000

    Added fifo_read and fifo_write in tge generic bus definition

commit 2b363e02c7c122f07e6fc406fb8ee52d97b55cad
Author: Bogdan Diaconescu <b_diaconescu@yahoo.com>
Date:   Sun Apr 17 23:26:36 2005 +0000

    Added new options for the ATI driver: RageTheatreMicrocPath and
        RageTheatreMicrocType

commit 6286efeba564c63ec198c091e4bba22027586901
Author: Bogdan Diaconescu <b_diaconescu@yahoo.com>
Date:   Sun Apr 17 23:23:45 2005 +0000

    Addeded support for FI1216ME (PAL) version of the tuner, detection of
        UDA1380 sound processor

commit 9a63c216e90622cd96d4555155df06dd66c3235b
Author: Bogdan Diaconescu <b_diaconescu@yahoo.com>
Date:   Sun Apr 17 23:18:26 2005 +0000

    Use the theatre_detect to determine the chip ID and then load the
        coresponding theatre module

commit 247057762813f12f171b1fa05f31c5ace4c245a7
Author: Bogdan Diaconescu <b_diaconescu@yahoo.com>
Date:   Sun Apr 17 23:15:31 2005 +0000

    Added functions that access the FIFO on RT200

commit bcccf9259784f21d84d52c526aa68df0787118b4
Author: Bogdan Diaconescu <b_diaconescu@yahoo.com>
Date:   Sun Apr 17 23:13:45 2005 +0000

    Added RT200 registers

commit da9d27f8c8cccf2f40a244b25ffe0d3162c41a63
Author: Bogdan Diaconescu <b_diaconescu@yahoo.com>
Date:   Sun Apr 17 23:09:28 2005 +0000

    This is the theatre chip detection module

commit e4623bbce161c41ccac65210fd2539211e8af715
Author: Bogdan Diaconescu <b_diaconescu@yahoo.com>
Date:   Sun Apr 17 23:07:54 2005 +0000

    Now the detection of the theatre chip is in other module called
        theatre_detect

commit 405b4dcb067346fce7fd9f6d8a6507a58c740ac7
Author: Bogdan Diaconescu <b_diaconescu@yahoo.com>
Date:   Sun Apr 17 23:06:17 2005 +0000

    Added the RageTheatre200 video demodulator support

commit 310eb24a45b145efbd47196a1c3ec750cf004154
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Apr 4 23:07:08 2005 +0000

    Release SDA/SDL I2C lines from an asserted-low state after a DDC probe,
        which caused Apple Studio Display monitors to shut off after a second
        or so (Ben Herrenschmidt).

commit a416667f980a8679352be897af2fb3215da2d000
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Thu Mar 31 23:18:10 2005 +0000

    - Add new Radeon pci ids (ATI devrel), bug 2827

commit 2e7365ffb767099faf3f191dc65341dbb3ef6247
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Thu Mar 31 18:26:05 2005 +0000

    Modified:
    programs/Xserver/hw/xfree86/drivers/ati/radeon_video.c
    Patch from Antti Ajanki - provide VBI capture support for PAL and SECAM
        (You need GATOS km module to actually get at the data, the change
        merely configures the hardware to handle it correctly).

commit 9a3c1c8e4cba2885b707db0f855e11dc6e640b49
Author: Michel Daenzer <michel@daenzer.net>
Date:   Tue Mar 29 06:14:34 2005 +0000

    bugzilla #2844 (https://bugs.freedesktop.org/show_bug.cgi?id=2844)
        attachment #2230 (http://bugs.freedesktop.org/attachment.cgi?id=2230)
        Wait for idle before uploading HW cursor data to the framebuffer to
        avoid lockups when moving the mouse on some machines.

commit 97863f112850be5206ea555297354c1c104fcdbe
Author: Kevin E Martin <kem@kem.org>
Date:   Tue Mar 29 03:49:04 2005 +0000

    bugzilla #2840 (https://bugs.freedesktop.org/show_bug.cgi?id=2840)
        attachment #2227 (https://bugs.freedesktop.org/attachment.cgi?id=2227)
        Fix build problems introduced by previous Radeon PLL errata
        workarounds.

commit 04cbb8d174cc5e3c7ecdd4e171170213ecb3c7ed
Author: Dave Airlie <airlied@linux.ie>
Date:   Sat Mar 26 00:53:01 2005 +0000

    bugzilla #2057 (https://bugs.freedesktop.org/show_bug.cgi?id=2057)
        attachment #1516 (https://bugs.freedesktop.org/attachment.cgi?id=1516)
        Add TVOUT Support for Mach64 (Leif Delgass, fixed up for Xorg by me).

commit 5be4bf9000bdf58584a10a6b8e285d0f173304fa
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Thu Mar 24 06:45:52 2005 +0000

    - radeon PLL access errata workarounds (Benjamin Herrenschmidt, acked by
        Hui Yu)

commit 34af3da80304a13b6407dcc0f4db54d6c8bb7a41
Author: Michel Daenzer <michel@daenzer.net>
Date:   Fri Mar 18 22:36:47 2005 +0000

    Add support for production version of ATI RN50/ES1000. (ATI Technologies
        Inc.)

commit b56a5f96048b920a7751318dde211e881f53b2bb
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Thu Mar 17 03:36:25 2005 +0000

    Modified:
    programs/Xserver/hw/xfree86/drivers/ati/radeon_mergedfb.c Back out
        RadeonWaitForIdleMMIO that I put in earlier.
    From discussion on dri-devel we do not need to be as careful with INREG()
        access on Radeons as we are on mach64 chips.
    The fix is backed out due to:
    it breaks DRI on SMP systems (due to absense of the lock in mouse handling
        functions)
    I am no longer able to reproduce the lockup I saw before

commit 01a9c1157cdfbc5f74b035383e060b8419979563
Author: Roland Scheidegger <rscheidegger_lists@hispeed.ch>
Date:   Tue Mar 8 23:41:37 2005 +0000

    Fix accidentally removed depth pitch adjustment if displayWidth is not a
        multiple of 32 pixels (bug #788)

commit 9b994b40710103b263364153429ebdb9ea3f58ed
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Fri Mar 4 22:21:40 2005 +0000

    programs/Xserver/hw/xfree86/drivers/ati/radeon_dri.c Let through all chips
        R300 and above - presumably the filtering should take place at the DRM
        driver level. Correct cut'n'paste position misprint. Big thanks for
        Michel Danzer for pointing out both improvements.

commit 7d37a9f1f9fffe98067c3b5bc4749cc799fb0c77
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Fri Mar 4 05:48:31 2005 +0000

    programs/Xserver/hw/xfree86/drivers/ati/radeon_dri.c Turns out Radeon R420
        chips work fine with R300 microcode. Thanks go to Rune Petersen for
        careful investigation.

commit f1edbb7852d85f660188498f578a0a697c2094fe
Author: Roland Scheidegger <rscheidegger_lists@hispeed.ch>
Date:   Tue Feb 22 00:39:15 2005 +0000

    Fix building radeon driver with BuildXF86DRI set to NO, the breakage was
        caused by the tiling support (bug #2481)

commit b853dbb50fb7c46fb5a70f349a3f264f0bb94e8c
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Sat Feb 19 16:00:12 2005 +0000

    Modified:
    programs/Xserver/hw/xfree86/drivers/ati/radeon_video.c
    Fix an INREG without WaitForIdleMMIO. This one should be unlikely to
        trigger, but we should still do this in the name of correctness.

commit 84290849b4aee336e9db0779d93fc2d7ed8881b1
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Sat Feb 19 00:57:23 2005 +0000

    Modified:
    programs/Xserver/hw/xfree86/drivers/ati/radeon_mergedfb.c
    Add a call to RADEONWaitForIdleMMIO() within RADEONChooseCursorCRTC() as
        this function uses OUTREGP() which, internally, calls INREG().
    Thus (due to SilkenMouse) INREG() could be called while CP engine was busy.
        I have observed this lockup on RV350 + R300 3d driver and have no idea
        why no issues were reported for R200 cards. Perhaps, few of them have
        enough memory to run merged fb and 3d simultaneously ?
    This fix is the right thing to do, however, we might also need to put fifo
        management calls into other cursor handling functions (in particular
        those that write cursor image directly to video memory).

commit 60070063e2130af0b9d5d34eed7adbae0c0fa67b
Author: Michel Daenzer <michel@daenzer.net>
Date:   Fri Feb 18 19:55:35 2005 +0000

    Bug #2576: Add support for ATI RN50/ES1000. (ATI Technologies Inc.)

commit 32032cdc78097840b7e2685fdec11bc0816aa0ac
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Feb 18 16:42:11 2005 +0000

    Bug #2567: Fix reversed memset arguments. (David Krause)

commit d5fadd6d86ae2a2f8c1bb55e36ab3d6d49649b46
Author: Roland Scheidegger <rscheidegger_lists@hispeed.ch>
Date:   Wed Feb 9 02:22:39 2005 +0000

    do not enable color tiling on r300 chips and newer, since it doesn't work
        (yet) (Bugzilla #2504)

commit 5ff35300e66a81ecc17c4e9396eb6d158f5c8e1b
Author: Roland Scheidegger <rscheidegger_lists@hispeed.ch>
Date:   Wed Feb 2 21:35:30 2005 +0000

    fix error with color tiling and hw scrolling, it looks like rv100 doesn't
        need the special treatment, after all (reported by Stephane Marchesin)

commit 7a9031683914bb1d17d223634e5dbf2e18955651
Author: Roland Scheidegger <rscheidegger_lists@hispeed.ch>
Date:   Mon Jan 31 20:10:28 2005 +0000

    change option EnableColorTiling to ColorTiling

commit a2b123f7672ea678290798786ecb408a86d8c683
Author: Roland Scheidegger <rscheidegger_lists@hispeed.ch>
Date:   Wed Jan 26 18:23:41 2005 +0000

    (Stephane Marchesin, me) Add support for color (framebuffer) tiling.
        Convert all XAA accel code to use explicit dst and src offset pitch
        control to make it work. Use the new drm surface ioctls to set up the
        tiled surfaces (if dri is enabled).

commit e0df1e41724cd009fe7c833d2f9555f5d87e3202
Author: Roland Scheidegger <rscheidegger_lists@hispeed.ch>
Date:   Wed Jan 26 17:39:56 2005 +0000

    fix issues with mergedfb + pageflip (fix up sarea frame values)

commit aeb01807263c47f49abaf00031d8505e8ebda82c
Author: Egbert Eich <eich@suse.de>
Date:   Mon Jan 24 15:40:21 2005 +0000

    Don't exclude 'RADEONInfoPtr info = ...' declaration even when not building
        with DRI support (Bugzilla #2370)

commit c6c30cfa354eb456638f10771a7cb02271696af2
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Thu Jan 13 17:35:49 2005 +0000

    Modified:
    programs/Xserver/hw/xfree86/drivers/ati/radeon_driver.c
    Some of the newer Radeons (R420 for example) have MM_TABLE's with size 0x33
        (instead of 0x0c that we know). Furthermore, they lockup during access
        of I2C bus !
    Add a check to validate MM_TABLE. Note: the check is not more stringent as
        other card manufacturers (like Asus or Tekram) might make cards with
        slightly different MM_TABLE.

commit 414c035a965b9db15656058c0e9cfeb3acf0158f
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Fri Dec 24 18:26:19 2004 +0000

    - Fix MCLK / SCLK calculation (Benjamin Herrenschmidt) bug 2144
    - formatting cleanup

commit 7c7b278883676412f5709cf812587b1408628133
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Sun Dec 19 19:49:33 2004 +0000

    - Add support for Dualhead on M3/M4 (bug 1760)

commit 08a45118b53129f3b9c30004404b906c7d7690be
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Sun Dec 19 19:29:10 2004 +0000

    - Make dualhead ram allocation cleaner and related messages clearer

commit 97cfd7b1489a9510cd233d6dc7154c210f32b9f5
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Sun Dec 19 06:56:37 2004 +0000

    - Add DRI resume support (Micha Feigin) bug 2063

commit 5b8577ae3200d967b4316156f16028cbcfd21983
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Sun Dec 19 06:11:06 2004 +0000

    - fix warnings (Ronny V. Vindenes)

commit 447124a663a24a7fffb0cd241d18dd896a43098b
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Sat Dec 18 21:37:48 2004 +0000

    - fix warning and potential error in radeon_driver.c

commit ac6166158a58b377e7383950c169956f78b62093
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Fri Dec 17 19:19:32 2004 +0000

    - Add VGAAccess option to r128 driver. Based on Benh's radeon patch. r128
        should now work on ppcs without usefbdev. To use this on ppc make sure
        you set "usefbdev" to false. (bug 2089)
    - Apply Benjamin Herrenschmidt's radeon patches (bug 2064)

commit ac860ed6bbed84f6fc39a9acf53ee87646cfc8dc
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Fri Dec 17 16:50:36 2004 +0000

    Modified:
    programs/Xserver/hw/xfree86/drivers/ati/radeon_accel.c
    programs/Xserver/hw/xfree86/drivers/ati/radeon_dri.c
    Move DMA robustness fix into radeon_dri.c::RADEONEnterServer() as per
        suggestion by Michel Dänzer.
    I could not trigger a lockup, even with r300_demo (possibly it has code
        that flushes cache inside ?), so this must be good enough..

commit 3ba5b525c4d6390184fdf79b28c954d5caadc6a4
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Thu Dec 16 16:26:56 2004 +0000

    Modified:
    programs/Xserver/hw/xfree86/drivers/ati/radeon_accel.c
    Add DMA robustness fix from Nicolai Haehnle.
    TODO: move this fix into DRM driver or other parts of Xserver when R300
        support is more stable.
    This fix affects only R300 and later variants and results in small slowdown
        when using CP acceleration in comparison to the previous version of the
        driver.
    We are still a lot faster in CP mode than using MMIO register access.

commit c7b5f4a9eb49c0edd690c972be1015c98408ffaf
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed Dec 15 19:35:33 2004 +0000

    Bug #2008: Fix gcc4 compile problem.

commit 8c1969f22fba2e1c9ed34d5ca77bee3a9f577640
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Sun Dec 12 20:42:29 2004 +0000

    Modified:
    programs/Xserver/hw/xfree86/drivers/ati/radeon_render.c
    programs/Xserver/hw/xfree86/drivers/ati/radeon_accel.c
    Make DMA blitting code more robust.

commit 8a9077bc70fd800983f138a224b95301992a2296
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Sun Dec 12 19:28:37 2004 +0000

    Modified:
    programs/Xserver/hw/xfree86/drivers/ati/radeon_driver.c
    programs/Xserver/hw/xfree86/drivers/ati/radeon_dri.c
    Enable DRM support permanently, allowing its use for any CHIP_FAMILY >
        R300. Fix bug in naming Mesa3d driver (it was defaulting to r200)

commit 845df6dd96785b59c44c670009c4fcdb20e147ab
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Sun Dec 12 17:29:45 2004 +0000

    - missing diff from agp 8x support

commit 36b92808e4ff1311f91543388c18cbe8e9eb4aab
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Sun Dec 12 16:05:35 2004 +0000

    Modified:
    programs/Xserver/hw/xfree86/drivers/ati/radeon_accel.c
    programs/Xserver/hw/xfree86/drivers/ati/radeon_driver.c
    programs/Xserver/hw/xfree86/drivers/ati/radeon_dri.c
    programs/Xserver/hw/xfree86/drivers/ati/radeon_common.h
    programs/Xserver/hw/xfree86/drivers/ati/radeon_version.h Add R300 (and
        later) DRM support, protected by X_R300_DRM option.
    Note: at the moment this is for 2d support only, if enabled running
        glxgears locks up my machine, but DMAForXv=yes works fine.

commit 68ea67ce98b8f3ad4c17f987e0e2b92f79a96fbf
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Sun Dec 12 02:00:48 2004 +0000

    - add AGP 8x support (Hui Yu, Michel Daenzer) bug 1819

commit 93675d288d5ebb35d4724ebbfc455a703e25a311
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Sun Dec 12 00:14:32 2004 +0000

    - only mess with Dynamicclocks on mobility chips (Benh, me) bug 1912
    - fix display detection (Hui Yu) bug 1559
    - Add new option "BIOSHotkeys" to allow the bios to control output
        switching (off by default) bug 2000
    - update the savage man page to document the "CrtOnly" option

commit ed217003127028483fd2956851d438977169d154
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Dec 6 13:27:56 2004 +0000

    Apply Debian patch to re-POST via VBE if driver thinks it has no video
        memory (a symptom of incompletely coming up from D3 power state), which
        fixes some Dell laptops (closes: #1890).

commit 2b8ab42b05b32710fa4f71a25e2f84192e637fbd
Author: Michel Daenzer <michel@daenzer.net>
Date:   Mon Dec 6 06:27:53 2004 +0000

    When direct rendering is enabled, use hostdata blits to transfer data from
        system memory to video RAM, which should reduce CPU usage especially
        with larger videos. Can be disabled via Option "DMAForXv" if there
        should be any stability issues, but it's been stable for me during a
        week of testing. Based on a patch by Nikolaus Meine
        <meine@tnt.uni-hannover.de>. Probably fix endianness issues in some
        newer XVideo code, untested.
    Also use hostdata blits to transfer RENDER image data to video RAM to avoid
        idling the accelerator engine. Increases RENDER performance
        significantly for me.
    These changes were only tested on an M9 in a Titanium PowerBook but should
        work with all Radeons where direct rendering is supported.

commit 960d15ae3a44efe7c02a3d6d0acbabe63e07be74
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Dec 4 22:34:54 2004 +0000

    Disable interrupt handling after the DRM handler has been removed,
        preventing lockups (closes: #1886).
    Allow pitches with a granularity of 32, rather than 64, because some
        clamshell iBooks have 800-byte pitches. Change Xv allocation
        granularity to 8 bytes, rather than 16 bytes, also (closes: #1888).

commit 4706dfb7804a46e3cc5aafc3644f5a1134ab3d19
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Dec 4 22:24:06 2004 +0000

    Retry CCE idle commands until the (higher) timeout is reached, and properly
        stop the engine if we totally fail -- gets rid of serious performance
        issues and lockups with r128 DRI.

commit bce508a288d6b95708dbbfc6b235e2d95b6b96ad
Author: Markus Kuhn <Markus.Kuhn@cl.cam.ac.uk>
Date:   Sat Dec 4 00:42:59 2004 +0000

    Encoding of numerous files changed to UTF-8

commit e9c9fd279ed43cc0d779266efcea69a67541c794
Author: Egbert Eich <eich@suse.de>
Date:   Tue Nov 30 08:38:44 2004 +0000

    Make Xorg the default server to install.
    Avoid PIO access on IA64. Some IA64 machine check if legacy ports outside
        the VGA range are accessed. The ATi driver however does this to probe
        for ISA Mach8/32/64. Since no IA64 has ISA slots this restriction
        should not be relevant to the user.
    Avoid recursive calls of xf86scanpci(). This function normally detects that
        it has been called before by checking if the PCI structure is filled
        out. So far if this was not the case (because PCI probing has failed
        for some reason) the function is traversed again. With the chipset
        specific PCI bus probing this can lead to an endless recursive loop as
        the post-probing code calls xf86scanpci() from within this function.
    The OS specific PCI code for Linux worked only if bus 0 was populated as it
        checked for the presence of /proc/bus/pci/00. Fixed to check for
        /proc/bus/pci/<bus_to_look_for> instead.

commit fffbcb761c178e025e3d55d428a803b1284481e0
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Sat Nov 27 15:14:15 2004 +0000

    xc/programs/Xserver/hw/xfree86/driver/ati/radeon.man
    xc/programs/Xserver/hw/xfree86/driver/voodoo/voodo.man
    xc/programs/Xserver/hw/xfree86/driver/wsfb/wsfb.man XF86Config ->
        __xconfigfile__

commit ad6347d187f9afa053c755aa3a2da9d821916cb2
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Tue Nov 23 21:27:43 2004 +0000

    Use fp_horz_stretch instead of fp_vert_stretch for horizontal stretch
        factor calculation in panel size derivation in the Radeon driver
        (closes: #1881).

commit ac054e427c6ce8cd5b89459dd3f16ca20e6b2d6a
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Sun Oct 24 18:17:36 2004 +0000

    Add registers to facilitate work with stereo 3d.

commit 445ed4b9b61347c866ee67dc0cb110904d667b84
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Fri Oct 22 03:51:58 2004 +0000

    - make the overlay work on crtc2 again
    - make PutVideo() MergedFB aware

commit 54cffc3fe273cf3c9ed2a8aef833d4bd337a8a09
Author: Egbert Eich <eich@suse.de>
Date:   Mon Oct 18 15:19:44 2004 +0000

    Fixing one of the infamous 'control reaches end of non void function
        problems'.

commit 7a97d363327e0b2c8646d961e00d05f99766b54f
Author: Egbert Eich <eich@suse.de>
Date:   Mon Oct 18 14:21:45 2004 +0000

    Made handling of DevelDrivers for x86-64 more conformant to other
        platforms.
    Compress all font encodings (Stefan Dirsch).
    Fixed warnings.
    Turn on forwarding XNSpotLocation event to XIM server in OffTheSpot and
        Root mode (bugzilla #1580, James Su).
    Added another compose key combination for the Euro symbol (Stefan Dirsch).
    Added support for UTF-8 in ja_JP, ko_KR and zh_TW locales (Mike Fabian).
    Changed default encoding for ru from KOI8-R to ISO8859-5 (Mike Fabian).
        This is the encoding that is also used by glibc. We may break other
        libcs - lets see who complains.
    Added explanation for DESTDIR to install to a different directory than /.
    Added some early bailouts to atiprobe if PCI structure pointer is NULL to
        prevent sig11.
    XV support doesn't depend on 2D acceleration any more. This patch removes
        this limitation from the NSC driver. This is a patch that I have
        committed to XFree86 a while ago but never ported over to X.Org.
        Matthieu Herrb contributed some build fixes.
    Fixing SetDPMSTimers() so that DPMS*Time == 0 disables the appropriate
        timer. This takes advantage of the fact that TimerSet() with a timeout
        argument 0 behaves like TimerCanel().
    Use /dev/xconsole (named pipe) or devpts for system logger (Werner Fink).
    Create missing links for backward compatibility to XFree86 (Stefan Dirsch).
    Changed comment to mention xorg.
    Changed cursor for the 'kill' action from XC_draped_box to XC_Pirate. If
        you don't like it we can change it back (original author unkown).
    Added 'pic' to the man page rendering command pipeline (Werner Fink).
    Added missing return value (Stefan Dirsch, Roland Mainz)

commit c7ab340fecb94a89c25d6bc7f686b7c97cd3067f
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Sun Oct 17 22:45:57 2004 +0000

    - Fix DFP detection in r128 driver (bug 1386, Klaus Kusche)
    - Fix EmulateWheelInertia defaults (bug 1115, Andrew Pimlott)

commit ace6e1b7933cb415b8efc41dffa335938f9c89b5
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Sun Oct 17 17:57:33 2004 +0000

    Modified:
    xc/programs/Xserver/hw/xfree86/drivers/ati/radeon_driver.c On my Inspiron
        8600 both internal and external ports are marked DAC_PRIMARY in BIOS.
        So be extra careful - only swap when the first port is not DAC_PRIMARY

commit 22405e81b812c239b5d8653b402b5f846e6e10b1
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Sun Oct 17 16:52:02 2004 +0000

    - Add Thomas' latest sis MergedFB enhancements to the radeon driver

commit 186efa31b2cb7285717678bb1c4df4cd9e182395
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Wed Oct 13 23:02:42 2004 +0000

    Modified:
    xc/programs/Xserver/hw/xfree86/drivers/ati/radeon_video.c
    xc/programs/Xserver/hw/xfree86/drivers/i2c/fi1236.h Squash annoying warning
        about fi1236_dump_status

commit 43b24861e36023613a99627c57ac44721ed1a548
Author: Egbert Eich <eich@suse.de>
Date:   Tue Oct 12 19:13:43 2004 +0000

    Set fbdev mode as the default mode on PPC (Olaf Hering).
    Added support for IBM space saver keyboard (Stefan Dirsch). Added support
        for Cherry CyMotion Master XPress (Marcus Schaefer).
    Change order of SetDisplayDevice(), HWRestore(), UnbindGART() and
        RestoreBIOSMemSize() to be exactly opposite to the Save procedure in
        EnterVT() (Matthias Hopf, Alan Hourihane).
    Fix text mode restauration by removing the assumption that the register
        which determines which head is programmed is set. to the active head by
        the BIOS (Mark Vojkovich).
    When I wrote the resource code 5 years ago I made some assumptions which
        turned out to be false: I've assumed that the bus number of the PCI
        hostbridge would be the PCI bus the bridge links to. This is not
        correct. Fixing this assumption is not easy. However I hope that the
        attached patch will make the system work regardless as it 'ignores'
        host bridges from which the target bus is not known. This should not
        matter at all as we really don't care about host bridges (unless we
        have bridge specific code which retrieves information about the
        bridge).
    Fixed server crash on reset when a structure allocated in PreInit() was
        freed on CloseScreen().
    Fixed ring buffer lock ups that happened because the structure that
        contained ringbuffer data was not zeroed after allocation.
    Fixed numerous warnings due to signed unsigned comparisons.
        programs/Xserver/hw/xfree86/drivers/nv/nv_driver.c:
        (NVBacklightEnable): Changed the order in which the sequencer registers
        and the backlight control registers are written. The sequencer control
        register need to be written first otherwise DPMS screen blanking
        produces vertical bars on a mobile device. lib/Xau/Imakefile: Build
        libXau static library PIC so it can be linked into toolkits that would
        like to wrap its functionality.

commit 515b7c4b748f70c17aee149a33ee1b41632daa1a
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Mon Oct 11 23:20:26 2004 +0000

    - fix resume on radeons (bug 1220)
    - clean up some old cruft in the savage i2c code

commit 07e1aaee862c4835601c704e14fcb12e28f4e78e
Author: Egbert Eich <eich@suse.de>
Date:   Mon Oct 11 09:58:04 2004 +0000

    Improving DPMS handling on VT swich and server termination/abort: previous
        version called the driver directly and too late.
    Unblank secondary screen explicitely. Don't rely on the value read during
        register save as the BIOS have blanked the secondary head.
    Checking if server isn't switched away before calling sync. Sanity check
        for possible bugs in aother areas of the code.
    Fixing default amount of of allocated video memory from AGP for i810: Use
        16MB if less than 192MB are installed else use 24MB (Matthias Hopf).

commit a8c77480e7f4ddf8c45bea3ecec7b6564c0d6452
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Fri Oct 8 00:56:05 2004 +0000

    Modified:
    xc/programs/Xserver/hw/xfree86/drivers/ati/radeon_video.c Remove redundant
        and incorrect line.

commit ec831d4fba23dc5f4d0a1450aa63efe5ff5937a2
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Tue Oct 5 01:16:01 2004 +0000

    Modified:
    xc/programs/Xserver/hw/xfree86/drivers/ati/theatre.h Patch from Matthieu
        Herrb - fix compilation with DoLoadableServer=NO

commit f1dadde8f642b332a2dcd2e2a5779f25fec7a3de
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Oct 4 21:52:47 2004 +0000

    Correct radeon man page, IGP is supported for 3D but R400 is not.

commit e3dba9841521466629828501c4fdccbba3d6af89
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Mon Oct 4 15:24:34 2004 +0000

    Modified:
    xc/programs/Xserver/hw/xfree86/drivers/ati/radeon_video.c Do not probe for
        Rage Theatre if no multimedia table is present and no parameters have
        been specified.

commit 4aadb784928ebbd60dce172c9a9a80e8d84e943f
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Mon Oct 4 14:53:11 2004 +0000

    Modified:
    xc/programs/Xserver/hw/xfree86/drivers/ati/radeon_video.c This is really
        embarassing - I found a part of code that had <cr> at the end of the
        lines. I am certain I never saw it before - talk about code rot !

commit db5a27081d9d3ab4cc1481a7d110d11103b3de19
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Sun Oct 3 23:54:40 2004 +0000

    Modified:
    xc/programs/Xserver/hw/xfree86/drivers/ati/radeon_mm_i2c.c Remove debugging
        statement that cause loading of DLL modules to fail.

commit 37a8d8a53f12f829783011c1e077fefb5729e618
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Sun Oct 3 14:41:45 2004 +0000

    Modified:
    xc/programs/Xserver/hw/xfree86/drivers/ati/radeon_video.c Fix compilation
        with gcc 3.4.x (patch by Ronny V. Vindenes)

commit 6dbcd503fe21c6dec27c2b97adc0f39ba0a7ab2a
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Sun Oct 3 03:07:17 2004 +0000

    Modified:
    xc/programs/Xserver/hw/xfree86/drivers/ati/radeon_video.[c,h]
    xc/programs/Xserver/hw/xfree86/drivers/ati/theatre.c
    xc/programs/Xserver/hw/xfree86/drivers/ati/radeon_reg.h Port the rest of
        GATOS Radeon-specific code. Remove "checkpoint" noise from logs. Test
        with AIW Radeon 7500

commit 7cb911291d459f08f54444d09081d3378fe73b8b
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Sun Oct 3 00:01:14 2004 +0000

    Modified:
    xc/programs/Xserver/hw/xfree86/drivers/ati/radeon.h
    xc/programs/Xserver/hw/xfree86/drivers/ati/radeon_driver.c
    xc/programs/Xserver/hw/xfree86/drivers/ati/radeon_video.[c,h]
    xc/programs/Xserver/hw/xfree86/drivers/ati/theatre.c Detect and initialize
        Rage Theatre (RT100)

commit 6c1996174b9f7afc8f4e33c35e4864b31696d4d6
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Sat Oct 2 20:55:42 2004 +0000

    Modified:
    xc/programs/Xserver/hw/xfree86/drivers/ati/Imakefile
    xc/programs/Xserver/hw/xfree86/drivers/ati/radeon_reg.h
    xc/programs/Xserver/hw/xfree86/drivers/ati/radeon_video.[c,h]
    xc/programs/Xserver/hw/xfree86/drivers/ati/radeon_vip.c Add VIP bus access
        code, hook it into initialization system.

commit 136649a1c2065624a9cf17386054c6595aa6d85e
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Sat Oct 2 20:35:04 2004 +0000

    Modified:
    xc/programs/Xserver/hw/xfree86/drivers/ati/theatre*
    xc/programs/Xserver/hw/xfree86/drivers/ati/generic_bus.h Add Rage Theatre
        (RT100) module code and hook it into the build system

commit 7a17b1c294fa8c7af0b1cdea0618cb6060479356
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Sat Oct 2 01:59:13 2004 +0000

    Modified:
    xc/programs/Xserver/hw/xfree86/drivers/ati/radeon.h
    xc/programs/Xserver/hw/xfree86/drivers/ati/radeon_video.c
    xc/programs/Xserver/hw/xfree86/drivers/ati/radeon_video.h
    xc/programs/Xserver/hw/xfree86/drivers/ati/radeon_mm_i2c.c Add code to
        access and initialize multimedia i2c bus. Hook it up.

commit e0123e24b6895dde7b385528da24c4e6e9d5a4cb
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Sat Oct 2 01:36:43 2004 +0000

    Add more multimedia registers.

commit 576f53be4f0fa54bde7167872b7508b98e5c9454
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Sat Oct 2 00:43:08 2004 +0000

    xc/programs/Xserver/hw/xfree86/drivers/ati/radeon_driver.c
    xc/programs/Xserver/hw/xfree86/drivers/ati/radeon.h Add TV-in specific
        options. Add TV-in specific fields to radeon per-screen structure, add
        code to initialize them. Preserve MM_TABLE (instead of whole VBIOS as
        was done in GATOS drivers)

commit 9a9ba82172428b09312fdd6e11da04b21c8529fc
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed Sep 22 04:38:03 2004 +0000

    Bug #1252, #1253, #1255, #1256: Various typo fixes from Dave Jones.

commit 700b0dc5148d0170c9223765d208ccef447242df
Author: Adam Jackson <ajax@nwnk.net>
Date:   Tue Sep 21 18:10:34 2004 +0000

    Convert the ATI drivers to ANSI function prototypes.

commit 17e5f3c1169066be1004306d12b5398cf01cbd35
Author: Eric Anholt <anholt@freebsd.org>
Date:   Fri Sep 17 05:16:45 2004 +0000

    Bugzilla #1170: Fix an overcounting of DMA in BEGIN_RING that wasn't
        harmful. Bugzilla #1169: Add counting for
        BEGIN_RING/OUT_RING/ADVANCE_RING to avoid these sorts of problems in
        the future.

commit 29bbee6b8a8dd1b883e07547691ff8e1289459ce
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Sep 17 03:04:50 2004 +0000

    Bug #1192: Remove cfb support from drivers where its use is an option.
        Delete xf24_32bpp, as s3virge was the last user. Fix up some comments
        to refer to fb rather than cfb.

commit cec06d4126f5f31d14ace73798c71ec75e544c45
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Thu Sep 16 22:15:05 2004 +0000

    Update comment

commit dbeb8d28ac3469f4a7d7d8dae979ae876d4cdcba
Author: Kevin E Martin <kem@kem.org>
Date:   Fri Sep 3 23:26:19 2004 +0000

    Updated release notes for bug #999.
    Update Radeon man page to note that RenderAccel is now enabled by default
        on certain chips.

commit c829f667c8a79bbdd40e1f924d57638e7bd425dc
Author: Michel Daenzer <michel@daenzer.net>
Date:   Mon Aug 30 04:31:50 2004 +0000

    Hotfix for Eric Anholt's fix for bug #1156 : Clear the
        RADEON_NONSURF_AP0_SWP_16BPP bit for 4 bpp data, otherwise it breaks at
        depth 16.

commit 677246740b5b538e73a7fbde661ec6a97319430b
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Aug 27 20:31:26 2004 +0000

    Back out my last change, dupe.

commit a8eaa15264ff0db1596d653e91260c9a39a8b5ee
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Aug 27 18:32:40 2004 +0000

    Bug #1061 (documentation-only update): Document the RenderAccel option in
        the radeon manpage.

commit 360dab062f895c19e1784146e6684f75a20c5b24
Author: Eric Anholt <anholt@freebsd.org>
Date:   Fri Aug 27 03:36:28 2004 +0000

    Bug #1156: Fix the build on PPC by splitting the byte-order-setting code
        into a separate routine. While here, fix the byte swapping in the 32bpp
        case. (Michel Daenzer)

commit 9b19bbb4d37b79c97365aa492cd93931d492b3a8
Author: Eric Anholt <anholt@freebsd.org>
Date:   Fri Aug 27 03:23:47 2004 +0000

    Bug #1157: Fix Radeon line acceleration in the DMA case (Michel Daenzer).

commit 838488b6b46359334e5e781589dbee3832909628
Author: Kevin E Martin <kem@kem.org>
Date:   Fri Aug 27 02:38:56 2004 +0000

    Fix Radeon compilation without Xinerama (Bug #1179, Simon Schubert).

commit 5f54d4f45e2adc6b15e98152db88743c243aa128
Author: Kevin E Martin <kem@kem.org>
Date:   Wed Aug 25 00:30:41 2004 +0000

    Fix hangs during startup with Radeon driver (Bug #1007, Sjoerd Simons).
    Fix i810 driver startup on Sony VAIO laptop (Bug #1084, Dave Airlie).
    Fix several library build problem (Bug #1147).
    Fix build problems (Bugs #1148 and #1149).

commit dde880e876f455f1fd66efbcc055e177886397c9
Author: Eric Anholt <anholt@freebsd.org>
Date:   Tue Aug 17 20:22:55 2004 +0000

    Reenable Radeon Render acceleration now that interactions with 3D clients
        should be resolved.

commit 279efef503fdbd442a9bd00f0073d9f6006d9e61
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sun Aug 15 00:44:57 2004 +0000

    Fix unresolved symbol warnings in r128 driver (Adam Jackson)

commit 955f2b89f94aaa20b5eafd045b01e3eeef3d29ad
Author: Kevin E Martin <kem@kem.org>
Date:   Thu Aug 12 05:00:22 2004 +0000

    Fix context switching on Radeons and build problem when XF86DRI is not
        defined (Bug #922, Eric Anholt).

commit 8f3ea53f26493a5f02410297a587d1d95c067094
Author: Adam Jackson <ajax@nwnk.net>
Date:   Thu Aug 12 02:23:46 2004 +0000

    oops, these didn't added somehow.

commit 6ec74414bd33e9d8dfd5119058d15f3a6206e9d9
Author: Adam Jackson <ajax@nwnk.net>
Date:   Thu Aug 12 01:03:06 2004 +0000

    Factor out R{128,ADEON}Chipsets into their own headers so they can be
        sanely included in both the ati core and the r128/radeon submodules;
        r128 and radeon can now be directly loaded under dlloader. Teach imstt
        about the dlloader- frendly way to talk to fbdevhw. (Partial for bugs
        #393 and #400.)

commit a5b1e4dd7adacd17b63582e477df3a585efb249a
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed Aug 11 01:20:28 2004 +0000

    Bug #978: Silence more unresolved symbol warnings from the ati driver.
        Patch from Stefan Dirsch.

commit 1356884132491010a2e41eb2b5be4a227b9b8138
Author: Kevin E Martin <kem@kem.org>
Date:   Wed Aug 11 01:14:14 2004 +0000

    Fix Radeon build problem with #define DoLoadableServer NO

commit f5c93cb015e334975c2797a23b68798372a284c9
Author: Adam Jackson <ajax@nwnk.net>
Date:   Tue Aug 10 04:01:42 2004 +0000

    Bug #978: Silence unresolved symbol warnings from the ati driver. Reported
        by Michel Daenzer.

commit a2da1caf5848a78b10afd99811fd1a5677af6786
Author: Kevin E Martin <kem@kem.org>
Date:   Mon Aug 9 22:37:22 2004 +0000

    Fix install problem on platforms not using xorg.cf/xfree86.cf (Bug #339,
        Harold L. Hunt II, Alexander Gottwald).
    Fix crash when using X core font in zh_CN.UTF-8 locale (Bug #368, Yu Shao,
        David Dawes).
    Fix glXMakeCurrent(Dpy, None, NULL) crash (Bug #719, Adam Jackson).
    HP-PA build fix (Bug #828, Guy Martin, Paul Anderson).
    Fix SDK build for GATOS and Wacom driver (Bug #829, Bryan Stine).
    Fix attempt to read video ROM before enabling it (Bug #843, Ivan
        Kokshaysky, Mike A. Harris).
    Fix detection of primary adapter (Bug #843, Ivan Kokshaysky, Mike A.
        Harris).
    Clarify xset man page description of how to use the keyboard repeat rate
        settings (Bug #846, Mike A. Harris).
    Fix problem where print-screen key would get remapped to sys-req in certain
        keymaps, which broke GNOME printscreen functionality (Bug #847, Owen
        Taylor).
    Fix several render problems:
    - MMIO mode support
    - Hang on IGP chips
    - VT switching hang
    - 3D render corruption (Bug #922, Hui Yu).

commit 3171664c6a02424736864204b731249097fa7aae
Author: Kevin E Martin <kem@kem.org>
Date:   Fri Aug 6 20:07:35 2004 +0000

    Disable Render acceleration in Radeon driver temporarily until it no longer
        conflicts with the 3D code.

commit 27ef7adf3c1f6c3ca79b42b468d08b8542348cdd
Author: Michel Daenzer <michel@daenzer.net>
Date:   Wed Aug 4 13:17:31 2004 +0000

    Use info->ModeReg.surface_cntl to restore byte swapping for the framebuffer
        aperture on big endian machines, remove superfluous local variables and
        register reads.
    Adapt framebuffer aperture byte swapping to texture format before copying
        data to offscreen area and restore it afterwards on big endian
        machines, fixes Render acceleration there.
    reviewed by: Hui Yu <hyu@ati.com>, Kevin E. Martin <kem@freedesktop.org>

commit 2efdc9f847fa9ff3096667b16df84817fc65605d
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Aug 4 10:05:37 2004 +0000

    - Add two new XAA hooks, SetupForCPUToScreenTexture2 and
        SetupForCPUToScreenAlphaTexture2. These add a dstFormat argument after
        the previous format argument, which the driver needs to use to properly
        set up the destination format. Two new arrays are added for the list of
        destination formats supported that correspond to the previous format
        arrays for sources.
    - Make Render acceleration only occur when the new hook for that
        acceleration type is supplied and the dst format list is set, along
        with the src format list being set. Without knowing the destination
        format, the Render acceleration couldn't properly support all the
        destinations it might encounter.
    - Bump XAA module minor version.
    - Update the Radeon Render acceleration to use the new hooks when the XAA
        module is sufficiently new. Fix a bug in the src/dst alpha booleans for
        ops, and use them to set blend_cntl to support destinations without
        alpha. Add missing PICT_a1r5g5b5 texture format, and add list
        terminator. (!)

commit 1e16c66551eed750330bb74a92208c45a7112cd0
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Tue Aug 3 09:42:20 2004 +0000

    programs/Xserver/hw/xfree86/drivers/ati/radeon_merged_fb.c Add missing
        argument to xf86DrvMsg().

commit fd440a1e2110e05d116207800c123c281fbf5e19
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Tue Aug 3 09:38:03 2004 +0000

    programs/Xserver/hw/xfree86/drivers/ati/r128_driver.c
    programs/Xserver/hw/xfree86/drivers/ati/r128_probe.h
    programs/Xserver/hw/xfree86/drivers/ati/radeon_driver.c
    programs/Xserver/hw/xfree86/drivers/ati/radeon_probe.h Fix Constification
        problems.

commit dd0f86c4cb046c79a65144f767e97fd99e7f61c9
Author: Kevin E Martin <kem@kem.org>
Date:   Sun Aug 1 23:22:01 2004 +0000

    Fix Radeon crash on server exit or generation

commit c64f90b673f5c487dfe059f1636b04a1c2ab7dc2
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sat Jul 31 01:21:18 2004 +0000

    Change several LoaderSymbol calls introduced by the bug #400 patch to
    *Weak() resolver functions.

commit b091b4b074cd61c9067ba95ef016f7a29a38c38d
Author: Hui YU <hyu@ati.com>
Date:   Fri Jul 30 22:20:21 2004 +0000

    Support for New radeon chips: R420/M18, R423, RV370/M22, RV380/M24, RS300.
        Add special handlings for DELL triple-head server (RV100). Misc. bug
        fixes for flat panel, host aperture, etc (Bug #946)

commit d04f61bfaf6952e832d52e1cd6014e86435aebd9
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Jul 30 20:30:51 2004 +0000

    Bug #400 (partial): Driver fixes for the dlloader. When using dlloader, all
        framebuffer formats except cfb and the overlay modes should work, and
        r128 and radeon need to be loaded from the ati driver (both issues to
        be fixed soon). Tested on i740, s3virge, mach64, tdfx, vesa, and vga
        drivers. elfloader users shouldn't be affected.

commit 6dcb78bb818c3c1c7fe406bee5379f9bef023f4b
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Wed Jul 28 02:35:30 2004 +0000

    - add gamma correction support to the radeon video overlay

commit 26029dc9378bbd95835d397402bfc9e6b4f1a478
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Mon Jul 26 23:14:37 2004 +0000

    - Add Radeon DynamicClocks option
    - Add small fixes and clean ups from ati's last code drop (typo_fixes,
        remove_fudge, laptop, xvfix)
    - fix possible segfault in mga_dri.c (Ryan Underwood)
    - Add Xv support to pre-nm2160 neomagic chipsets

commit 9f251b16e702da486f824307e72a6f80c6987b5d
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Jul 26 19:14:58 2004 +0000

    Bug #848: Clean up gatos notice messages.

commit 6f1e01ecdb11913fd768b9918f516b8379b7858f
Author: Eric Anholt <anholt@freebsd.org>
Date:   Fri Jul 23 05:36:14 2004 +0000

    - Add a new option, BuildDevelDRIDrivers, which controls whether
        DevelDRIDrivers is non-empty. DevelDRIDrivers contains those drivers
        aren't built by default either due to being unusable on that
        architecture (but buildable for testing) or due to security concerns,
        as in the mach64 and savage cases.
    - Merge the Mach64 DDX's DRI support, under the XF86DRI_DEVEL define, which
        is set only when BuildDevelDRIDrivers is set.
    - Fix up of the sets of DRI drivers built for various architectures.
    - Fix build of unichrome DRI driver, which is now enabled on x86.

commit b68322f467b7e524092af15e33ab872abb99b6a2
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Jul 22 07:03:04 2004 +0000

    Merge and resolve conflicts from DRI/DRM/Mesa 20040721 imports.

commit 57de5e285d6271fc4b2bc8a951a98be6308d649d
Author: Eric Anholt <anholt@freebsd.org>
Date:   Fri Jul 16 04:38:54 2004 +0000

    Bugzilla #803,804: Fix build in the !XF86DRI case after DRI and Radeon
        Render acceleration merges.

commit 9b0ec803bd588d9af778bfd307ee6d958e4a1e73
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sat Jul 10 14:22:35 2004 +0000

    Bugzilla #849: Fix DRI pagesize assumptions in radeon and r128 drivers.
    from mharris@, reviewed and applied to DRI by airlied@.

commit ccd95bfb291a0c70272fab6822ef379b83dc298d
Author: Egbert Eich <eich@suse.de>
Date:   Tue Jul 6 14:37:47 2004 +0000

    Separated Intel drivers from default DriDrivers to avoid building them on
        IA64 (Egbert Eich).
    Fixed wrong function prototype (Egbert Eich).
    Don't test for generic VGA on IA64 (Egbert Eich).
    Fixed a segfault when accessing a structure before verifying the pointer
        exists (Egbert Eich).
    Added a showcache option for debugging (Egbert Eich).
    Increase default video RAM size to 16MB when DRI is enabled and more than
        128MB are available (Egbert Eich). Fixed lockups during mode switch.
        Problem was introduced when attempting to copy the behavior during
        LeaveVT()/EnterVT() but but forgetting to call I810DRILeave() before
        I810DRIEnter(). The entire DRILeave()/Enter() scenario has been
        commented out as it didn't seem to be necessary (Egbert Eich).
    Fix TweakMemorySize() (tested with i855/i865) (Egbert Eich).
    increased MAX_DEVICES to 128 (Egbert Eich).
    Use OS provided PCI config space access as default method (Egbert Eich).
    Added support for Linux 2.6 proc file format.
    Fixed unaligned accesses to pieces of the VBE info block. VESA did not
        align elements to size (Egbert Eich).

commit 6bdf3d36ea3086432af5157540fde4e0aa0c44dc
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sun Jun 20 07:34:55 2004 +0000

    Add file missed in last commit: Bug #748:
    - Add Render acceleration for Radeon 100 and 200-series cards, enabled by
        default. Notable performance gains include 27fps in cairogears instead
        of 6fps (compared to 50 with glitz), and my disks are now the
        bottleneck in an ls -lR in gnome-terminal. Only supported in DRI mode
        because the MMIO submission hangs the card so far, but the code is left
        in because it may be supportable soon.
    - Add xorg.conf options to disable Render acceleration and to force the
        subpixel order in the server (Hui Yu).
    Many thanks to Hui Yu at ATI for the code this was based off of, Michel
        Daenzer for bugfixes and suggestions, and LinuxFund for sponsoring the
        work.

commit 8c1b37420ea890f76edb97aed61ee427a871cd3f
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sun Jun 20 07:26:08 2004 +0000

    Bug #748:
    - Add Render acceleration for Radeon 100 and 200-series cards, enabled by
        default. Notable performance gains include 27fps in cairogears instead
        of 6fps (compared to 50 with glitz), and my disks are now the
        bottleneck in an ls -lR in gnome-terminal. Only supported in DRI mode
        because the MMIO submission hangs the card so far, but the code is left
        in because it may be supportable soon.
    - Add xorg.conf options to disable Render acceleration and to force the
        subpixel order in the server (Hui Yu).
    Many thanks to Hui Yu at ATI for the code this was based off of, Michel
        Daenzer for bugfixes and suggestions, and LinuxFund for sponsoring the
        work.

commit 6ecf374d500afe6da494dfdd6566396ec65b6d6a
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Jun 16 09:43:59 2004 +0000

    Merge DRI-trunk-20040613 changes in programs/Xserver/hw/xfree86/drivers,
        with the following notes:
    - Savage and Mach64 (= ati/ati*.[ch] changes) DRI not merged due to
        insecurity.
    - VIA driver converted to new drmContext and drmHandle names.
    - Radeon driver merge conflicted in many places, and MergedFB at least
        could probably use some checking at this point.

commit bea8085e04136b0ef513c17bb65c54069ec531e1
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Jun 16 09:25:58 2004 +0000

    DRI trunk-20040613 import

commit 7b588cda922992a8ee2d04853ba1533cf43592a3
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Jun 16 09:25:58 2004 +0000

    Initial revision

commit 6cbb5bbff43d65a762d432659793333868837f0b
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Jun 16 09:22:56 2004 +0000

    DRI XFree86-4_3_99_12-merge import

commit 3586c3c7955365a2af0b8a286ea0d0488ddfd137
Author: Egbert Eich <eich@suse.de>
Date:   Fri Apr 23 19:26:46 2004 +0000

    Merging XORG-CURRENT into trunk

commit 538768e0f472026325be9dd37dc4bfe7ea7d3b75
Author: Egbert Eich <eich@suse.de>
Date:   Sun Mar 14 08:33:20 2004 +0000

    Importing vendor version xf86-4_4_99_1 on Sun Mar 14 00:26:39 PST 2004

commit 5f179e796d1cd310790d06eebb474ad67114ec84
Author: Egbert Eich <eich@suse.de>
Date:   Wed Mar 3 12:12:18 2004 +0000

    Importing vendor version xf86-4_4_0 on Wed Mar 3 04:09:24 PST 2004

commit 493c44580191beff63575c4032f772fbbf1b06eb
Author: Egbert Eich <eich@suse.de>
Date:   Thu Feb 26 13:35:52 2004 +0000

    readding XFree86's cvs IDs

commit 942a47fd3c5e8df85642672c01072bf97285bc30
Author: Egbert Eich <eich@suse.de>
Date:   Thu Feb 26 09:23:18 2004 +0000

    Importing vendor version xf86-4_3_99_903 on Wed Feb 26 01:21:00 PST 2004

commit dda79b5ee3eb49f924a3213592d93ba981c99394
Author: Kaleb Keithley <kaleb@freedesktop.org>
Date:   Mon Feb 23 20:35:02 2004 +0000

    Import most of XFree86 4.4RC3. This import excludes files which have the
        new license. If we want to, later we can import 4.4RC3 again and pick
        up the files that have the new license, but for now the vendor branch
        is "pure."

commit 08104f18ac497561c969694ff709da6c361ccea7
Author: Egbert Eich <eich@suse.de>
Date:   Thu Jan 29 08:08:34 2004 +0000

    Importing vendor version xf86-012804-2330 on Thu Jan 29 00:06:33 PST 2004

commit 162d76b9c48ed17d6e645057db58c9f13436f25f
Author: Kaleb Keithley <kaleb@freedesktop.org>
Date:   Fri Dec 19 20:55:06 2003 +0000

    XFree86 4.3.99.902 (RC 2)

commit 195772ec74f7a9b7d5bf294b3bc2c3b960e08a31
Author: Kaleb Keithley <kaleb@freedesktop.org>
Date:   Thu Dec 4 22:03:16 2003 +0000

    XFree86 4.3.99.901 (RC 1)

commit 73105e438e90f950249cb265ba99001d4db3dc60
Author: Kaleb Keithley <kaleb@freedesktop.org>
Date:   Tue Nov 25 19:28:36 2003 +0000

    XFree86 4.3.99.16 Bring the tree up to date for the Cygwin folks

commit 0a53864f9581196604d04fd28b4e94a9b0b73d18
Author: Kaleb Keithley <kaleb@freedesktop.org>
Date:   Tue Nov 25 19:28:36 2003 +0000

    Initial revision

commit c56aaef79028261e0a3be0c86ffd3f16b6bdd9ba
Author: Kaleb Keithley <kaleb@freedesktop.org>
Date:   Fri Nov 14 16:48:55 2003 +0000

    XFree86 4.3.0.1

commit d09f463a5d1ce73e0b65d5276fbcca393fa2da46
Author: Kaleb Keithley <kaleb@freedesktop.org>
Date:   Fri Nov 14 16:48:55 2003 +0000

    Initial revision

commit d9af6dc32652502d84ea8da5d57a5ab45429c4ad
Author: Kaleb Keithley <kaleb@freedesktop.org>
Date:   Fri Nov 14 15:54:49 2003 +0000

    R6.6 is the Xorg base-line
