commit 6061722888eab858888dac2499194393299872e4
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Fri Sep 18 15:31:50 2009 -0700

    Version bump: 1.1.9
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@sun.com>

commit c058aa698b6ddddd4c11608ca412b73d1ffd78d2
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Thu Sep 17 19:41:10 2009 -0700

    Fill in COPYING file
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@sun.com>

commit 3a87227bb357ac9523f853fca84ebde3129e2f05
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Thu Sep 17 19:11:52 2009 -0700

    Log errors when failing to make authentication dirs/files
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@sun.com>

commit da3cfcdd197bd900633c563412685315316804f4
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Thu Sep 17 18:33:54 2009 -0700

    Refactor & constify error logging code
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@sun.com>

commit a7e166298a94c012420713dbfcd0b1628f5c7062
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Thu Sep 17 18:08:06 2009 -0700

    Unrecognized argument errors shouldn't print xdm error header repeatedly
    
    Add LogAppend function to append to previous LogError/LogInfo without
    repeating the xdm error message header.
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@sun.com>

commit e60cf4a084951e697516a6c26dcb5ad14e6f14b8
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Fri Sep 11 10:40:05 2009 -0700

    Replace -D_XOPEN_SOURCE & -D_BSD_SOURCE with AC_USE_SYSTEM_EXTENSIONS
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@sun.com>
    Acked-by: Julien Cristau <jcristau@debian.org>

commit 69fc0647bed461a19cf99f4d362a44df8c18de38
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Fri Sep 11 09:15:31 2009 -0700

    Add support for AM_SILENT_RULES for building files with cpp
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@sun.com>

commit 3d51edf9d96f8adcb6f2ab50f4960aa9ecc76afe
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Fri Sep 11 08:31:55 2009 -0700

    Update to using xorg-macros 1.3, including XORG_DEFAULT_OPTIONS
    
    Also move CWARNFLAGS addition to CFLAGS from configure.ac to Makefile.am's
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@sun.com>

commit a57a7be5962f6f9536ab97751b177575a4884bd0
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Tue Aug 18 21:03:54 2009 -0700

    Treat all 127.0.0.0/8 addresses as localhost
    
    Similar fix to http://bugs.freedesktop.org/show_bug.cgi?id=23329
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@sun.com>

commit a9040b281062ddabcfb2cfdfc37e431b047531b2
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Wed Jul 29 11:16:29 2009 -0700

    Set utmp/wtmp paths via configure instead of hardcoding them
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@sun.com>

commit cafa4376f4761c2d565b2c1deeb7dbfb553d7045
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Tue Jul 28 14:31:52 2009 -0700

    Truncate pid file before writing new pid to it
    
    Prevents trailing garbage in the file if the new pid has fewer digits
    than the previous pid.
    
    (Originally reported against Solaris dtlogin as Sun bug 6627150)
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@sun.com>

commit 500775eb145372c5dcbc6e9814858d01730900c7
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Tue Jul 28 12:58:58 2009 -0700

    Continue processing Xaccess after unresolvable host entry found
    
    If there is an unresolvable host entry in Xaccess file, XDMCP access from
    the hosts whose entries are specified after the unresolvable host in Xaccess
    were rejected.
    
    (Originally reported against dtlogin as Solaris bug 6259901.)
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@sun.com>

commit 58021c21c28fdb4949d44aa92e68874155842ccc
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Tue Jul 28 08:36:10 2009 -0700

    Do a better job of getting user name for failed login log when using PAM
    
    Check to see if username is filled in before calling FailedError, and
    fill it in if it's not.
    
    Call FailedError before calling pam_end, so we don't reference a username
    that may have been freed already.
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@sun.com>

commit a3f1f5f5b8b3a070de6d9510f588b39f5ebcc0fc
Author: Jeff Chua <jeff.chua.linux@gmail.com>
Date:   Mon Jul 20 22:21:46 2009 +0800

    xdm compile failed due to asprintf()
    
    xdm no longer compiles due to recent commit
    56a14b8a1f4d3aa883485b794c818581b8f07cd8 that changed to use asprintf().
    There is an additional right-bracket that causes the problem.
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@sun.com>

commit 2f5bd6ea016a6405208c91c976a16a672cc04184
Author: Branden Robinson <branden@debian.org>
Date:   Fri Jul 17 23:07:39 2009 -0700

    Add RemovePid() function, and register it with atexit()
    
    Debian bug#213076
    
    Forward-ported by David Nusinow, Eugene Konev and Julien Cristau.

commit ec3152fbba9ee39bbb069913e76e9d165001f98a
Author: Branden Robinson <branden@debian.org>
Date:   Fri Jul 17 23:06:46 2009 -0700

    Use xdm's _SysErrorMsg() function instead of strerror()

commit 18f286641afbe1d3b61abd31d93c0ae8acb375e9
Author: Branden Robinson <branden@debian.org>
Date:   Fri Jul 17 22:51:04 2009 -0700

    Use _SysErrorMsg() in the log message in various error conditions.
    
    Change LogError() invocations to use _SysErrorMsg() where errno might be
    set (and not clobbered by intermediate calls).  Also make LogError() the
    first thing we do after an error condition in those cases.
    
    Forward-ported by David Nusinow, Eugene Konev and Julien Cristau.
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@sun.com>

commit 8d15af786d96bb70aceca116a588c2a4b7c45d63
Author: Branden Robinson <branden@debian.org>
Date:   Fri Jul 17 22:42:40 2009 -0700

    Use xdm's _SysErrorMsg() function instead of merely printing errno

commit d6faa3c02a6f61c8d01accd0fcead28c39673e32
Author: Branden Robinson <branden@debian.org>
Date:   Fri Jul 17 22:42:08 2009 -0700

    session.c: Add more debugging to execute()
    
    [jcristau@debian.org: save errno before calling Debug() in one place]

commit 2d6d2f121bffb378676f422b44d37534c8c5d53b
Author: Branden Robinson <branden@debian.org>
Date:   Fri Jul 17 22:41:31 2009 -0700

    Add some more log and debug messages
    
    Add log messages for xdm startup, shutdown, and normal exit.  Add a
    debugging message when xdm enters its main loop.

commit 72240433a85410e68a3b6705e097337ff985ae90
Author: Julien Cristau <jcristau@debian.org>
Date:   Wed Aug 20 01:30:59 2008 +0200

    Call InitErrorLog() right after BecomeDaemon()
    
    The latter points stderr to /dev/null, so the sooner we open the log
    after that, the better.

commit 6dfbdf2823dc50c6b0ff24afbc58c67dc1651bef
Author: Branden Robinson <branden@debian.org>
Date:   Fri Jul 17 22:33:55 2009 -0700

    spelling fix

commit 195a991ef5e5d578d3499a5496d064d1b9b1dc7f
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Fri Jul 17 22:29:26 2009 -0700

    Clarify comment/#ifdefs for USE_SIOCGLIFCONF
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@sun.com>

commit 6770509fa149cf8bc148e2ed3c8e11e0b83a4ee1
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Fri Jul 17 22:21:25 2009 -0700

    Remove #ifdef Lynx blocks
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@sun.com>

commit 3beb4d278caa281ea8ebad55ae2f45ea0d46a6e6
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Fri Jul 17 22:14:42 2009 -0700

    Use imdent to show cpp macro nesting more clearly
    
    Also strip trailing whitespace to make git happier.
    While many lines are changes, "git diff -w" shows no changes other
    than pure whitespace.
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@sun.com>

commit b80b263f964031b1edef0a5e0a77a6615dc4be82
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Fri Jul 17 21:58:11 2009 -0700

    Delete old A/UX (#ifdef macII) code
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@sun.com>

commit 70b7a9a7a83b042f46abd50bbe21b0522a0dd9a5
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Fri Jul 17 21:46:46 2009 -0700

    malloc(strlen()); strcpy() -> strdup()
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@sun.com>

commit 7221da99593ee2fe1943250523965b70d59dbf56
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Fri Jul 17 21:17:36 2009 -0700

    Documentation improvements
    
    - Remove references to setting build-time defaults via Imake configuration
    - Show actual default $PATH & authDir settings in man page
    - Whitespace & minor formatting fixes in man page
    - Update man page info on multicast addresses from RFC 2373 to RFC 4291
    - Add notes on mailing list, git repo, and patches to README
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@sun.com>

commit 0c57a398cef50d13a821ad341ffb15ab0cbd2bad
Author: MatÄ›j Cepl <mcepl@redhat.com>
Date:   Fri Jul 17 20:59:48 2009 -0700

    Add variable DisplayManager.authDir to xdm-config (Fedora bug 388431)
    
    Fedora patch xdm-1.1.6-authDir-var-bug388431.patch
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@sun.com>

commit 56a14b8a1f4d3aa883485b794c818581b8f07cd8
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Fri Jul 17 20:37:51 2009 -0700

    sprintf -> snprintf/asprintf conversions
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@sun.com>

commit a74131c41c63cbe5861b9550dfa7a921ec601c87
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Fri Jul 17 18:34:19 2009 -0700

    Remove OS/2's duplicate copy of default path definitions in resource.c
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@sun.com>

commit 8463017f7de43fe0a8ec144faca6bbf43168ebf9
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Fri Jul 17 15:19:40 2009 -0700

    Replace FORCE_CURSOR_FLASH code with simpler cursor update for passwd field
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@sun.com>

commit 36fc6f22a529b2e9fc8dadfe944a10d54f4d3654
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Thu Jul 16 19:35:24 2009 -0700

    Move xdmcp ARRAY initializators to declarations
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@sun.com>

commit 1e23dd0d37c276eea9c883270076926f5a2fee3f
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Thu Jul 16 19:10:30 2009 -0700

    Remove RCS Ids
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@sun.com>

commit b21117d4eaaa7b5886c139f06b8acae9890448c2
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Tue May 19 01:33:41 2009 -0700

    Update AC_DEFINE_DIR to latest version from Autoconf Archive

commit 332bd687a265642d17109eafb2d183887a53d739
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Fri Jan 30 22:48:17 2009 +0100

    getLocalAddress(): return 127.0.0.1 if the hostname doesn't resolve.
    
    This code already does this if IPv6 support is compiled in. It
    was dereferencing a NULL pointer in the IPv4 only case.

commit a4f47b755ae85bf3e35a3376fcf44ace67c38767
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Fri Jan 30 10:44:01 2009 +0100

    Remove RCS Id and put some comment here.

commit 7a44f525570af2e1d24893635c85cd86091c5503
Author: Paulo Cesar Pereira de Andrade <pcpa@mandriva.com.br>
Date:   Tue Jan 20 16:08:34 2009 -0200

    Ansification and compile warning fixes.
    
      This also uses XORG_CHANGELOG and XORG_CWARNFLAGS, corrects
    make distcheck and most gcc 4.3 and sparse warnings. Remaining
    warning is due to passing read or write as function pointers in
    the format ssize_t (*)(int, void *, size_t), as it is const for
    write, but not for read.

commit b4dc9afe20ab9c4ddec29a7357e147258e34bb67
Author: Julien Cristau <jcristau@debian.org>
Date:   Mon Mar 10 17:51:15 2008 +0100

    Add support for syslog on more than openbsd.
    
    Also use LOG_AUTHPRIV by default, if that exists.

commit 4fbd4bfcca12a91dacb25fb08a6a3b07822b5845
Author: James Cloos <cloos@jhcloos.com>
Date:   Wed Aug 20 10:32:50 2008 -0400

    xaw8 is gone, use xaw7

commit b73d0c91d32bf0aa60aa5ce2bbbd4468ce21a445
Author: David Sainty <David.Sainty@dtsp.co.nz>
Date:   Mon Aug 4 19:06:43 2008 -0700

    Bug 16356: xdm Xstartup/Xreset configuration files malconstructed by cpp
    
    X.Org Bug #16356 <https://bugs.freedesktop.org/show_bug.cgi?id=16356>
    Signed-off-by: Alan Coopersmith <alan.coopersmith@sun.com>

commit c9cdec25130bc957b584ec15187e068f9c08862d
Author: Adam Jackson <ajax@redhat.com>
Date:   Wed May 21 14:24:58 2008 -0400

    xdm 1.1.8

commit 5f94cf40697145678c96e9899df69ad2550a4509
Author: Julien Cristau <jcristau@debian.org>
Date:   Thu May 15 16:52:09 2008 +0200

    $(builddir) is the current directory
    
    Apparently automake doesn't always export the builddir variable.
    This fixes the previous commit.

commit 46d72e82f4069d281f61a9fdbae11157241f3553
Author: Samuel Thibault <samuel.thibault@ens-lyon.org>
Date:   Tue May 6 17:57:22 2008 -0700

    Bug 10145: xdm passes file descriptors to children
    
    X.Org Bugzilla #10145 <https://bugs.freedesktop.org/show_bug.cgi?id=10145>
    Patch #14644 <https://bugs.freedesktop.org/attachment.cgi?id=14644>
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@sun.com>

commit b4ac133b92e08a34054d0af9481ab59b03571818
Author: Julien Cristau <jcristau@debian.org>
Date:   Sun Apr 20 19:32:12 2008 +0200

    Fix build with builddir != srcdir

commit 1b14e9391500d06dd0b61967db8099c3cf27f90c
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Thu Mar 27 19:57:08 2008 -0700

    Build fix for case-insensitive file systems

commit c0f0d3adebb9b133e26a6e25738cfe38b36e5314
Author: Jeremy Huddleston <jeremyhu@freedesktop.org>
Date:   Thu Mar 27 19:52:33 2008 -0700

    Added include of pwd.h so we build correctly on OS-X - see xorg mailing list

commit c2de936fe580d82da3c5b3590a1acb9e28ec68c1
Author: Julien Cristau <jcristau@debian.org>
Date:   Sat Mar 8 06:40:14 2008 +0100

    Fix installation of app-defaults
    
    Add a configure option for appdefaultdir, and use it for
    make distcheck, because it wants everything under $prefix.
    By default, still use `pkg-config --variable=appdefaultdir xt'.

commit f2f2eed7c284ced3ddc3fe3451ec7a8af9dfdbb4
Author: Matthieu Herrb <matthieu@bluenote.herrb.net>
Date:   Sat Mar 8 22:21:57 2008 +0100

    README: nuke RCS Id

commit 576861d7e6158790e18ae79b8d566919b88d0cae
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Mar 7 17:12:33 2008 -0500

    xdm 1.1.7

commit 996fea2fb1ae1e419e673b89cc3778e371a29324
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Mar 7 17:10:30 2008 -0500

    Fix distcheck.

commit 87a8f18c334b3e5819f92d0f8f37cc41987486d4
Author: Jeremy Huddleston <jeremy@yuffie.local>
Date:   Thu Dec 20 19:11:53 2007 -0800

    Darwin doesn't need __DARWIN__ anymore.

commit 28f4ded22488ce8542ff8b9871f6b4e04614058d
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Fri Sep 21 11:03:54 2007 -0700

    Debian bug #440389: 800x600 settings got lost, screen now too wide
    
    Debian bug #440389 <http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=440389>
    When deleting the XPM #ifdefs, a set of #if WIDTH < 800 resources
    got accidentally deleted as well.  (Cause & fix found by Brice Goglin)

commit 923176024d3d6b7f5b392b4f9a07cce8c6ed3823
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Mon Aug 27 14:17:13 2007 -0700

    Restore #endif accidentally removed in d0d4581be22aba9021c5a672bd9e5ba719961e29

commit e775ab1778850663a755279470d3ad6a2c9c0054
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Thu Aug 16 14:47:17 2007 -0700

    Version bump: 1.1.6

commit 298811a10ee1b72c553d18cc40bdfde17afb14e8
Author: Luca Capello <luca@pca.it>
Date:   Sun Jul 2 18:57:05 2006 +0200

    Debian Bug #376391: xdm manpage refers to non-existent section 'Typical Usage'

commit 593788896cdba598ceaa5fbf9e4d214583ffb6ed
Author: Brice Goglin <Brice.Goglin@ens-lyon.org>
Date:   Wed Aug 15 18:38:53 2007 -0700

    Debian Bug #437961: loading Xresources fails because bindir/xrdb does not exist
    
    <http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=437961>

commit ef1be3254966018fede7c33dea2f41b9351ef699
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Fri Aug 10 10:43:10 2007 -0700

    Version bump: 1.1.5

commit 3ed70d13a6957c2434753f32d388888eae079d82
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Wed Jul 25 17:07:33 2007 -0700

    Update AC_DEFINE_DIR to autoconf-2.60-compatible version

commit dd05076f290b1995f71627324cc74053c870ac21
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Wed Jul 25 17:03:56 2007 -0700

    Add AM_PROG_CC_C_O to clear automake-1.10 warning
    
    Makefile.am:149: compiling `chooser.c' with per-target flags requires `AM_PROG_CC_C_O' in `configure.ac'

commit 29dc5825782adf929bce41a18e6a6881ef975d22
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Wed Jul 25 17:00:39 2007 -0700

    Bug #10530: xdm's path to xrdb could be configurable at compile time
    
    Add --with-xrdb=path & --with-default-session=command configure options
    X.Org Bug #10530: <https://bugs.freedesktop.org/show_bug.cgi?id=10530>

commit 2719e18c3782c5b21f712711b4198a5bb55f5473
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Fri Jun 15 20:14:21 2007 -0700

    Set default cursor for entire root window, not just greeter

commit d0d4581be22aba9021c5a672bd9e5ba719961e29
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Fri Jun 15 19:43:46 2007 -0700

    Make #ifdef XPM only control whether XPM pixmap logo is shown
    
    Make 3D look-and-feel independent of XPM

commit 188415ebf07ff8a25ac663c37615269cd1a741a4
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Fri Jun 15 19:23:05 2007 -0700

    Set Xcursor theme to whiteglass in default login screen resources

commit f8585c60831a8e5ddebce18bdd7e78d217a822c5
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Fri Jun 15 18:36:15 2007 -0700

    X.Org Bug #10992: xlogin crashes if window size is too small
    
    X.Org Bugzilla #10992 <https://bugs.freedesktop.org/show_bug.cgi?id=10992>

commit 0ce4128e19f9fac9a565cce42a6a575486d371a5
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Fri Jun 15 14:24:59 2007 -0700

    Add --enable-xdm-auth/--disable-xdm-auth to configure options

commit 8e0b23e24556fb6c6b9943bf3747e70b245fc7aa
Author: Chip Coldwell <coldwell@physics.harvard.edu>
Date:   Thu Jun 24 09:56:19 2004 -0700

    X.Org Bug 10632 / Debian Bug 256299: race condition in policy.c:Willing()
    
    X.Org Bugzilla #10632 <https://bugs.freedesktop.org/show_bug.cgi?id=10632>
    Reported upstream from
    Debian Bug #256299 <http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=256299>

commit a8927ee05efba3afe955731bab5d633879c39833
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Thu May 31 17:11:15 2007 -0700

    Document more of the greeter resources in xdm man page

commit 35f563369470139665498640f4cda23d1227073b
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Tue May 29 19:57:29 2007 -0700

    Bug #11096: xdm(1) manpage should document Xft-related properties
    
    X.Org Bugzilla #11096 <https://bugs.freedesktop.org/show_bug.cgi?id=11096>
    
    Added descriptions of the Xft *face resources and changed the core fonts
    *font resource descriptions to match.   Also cleaned up various other
    descriptions to make it easier for users customizing the look of the login
    screen.

commit e7f1c433dc0bd8e864cec68dbc120f27696bbba6
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Thu May 24 10:32:32 2007 -0700

    Bug #11020: xdm doesn't set SSH_AUTH_SOCK even though using with pam_ssh
    
    Wasn't calling pam_setcred()/pam_getenvlist() if setusercontext() was present
    X.Org Bugzilla #11020: <https://bugs.freedesktop.org/show_bug.cgi?id=11020>

commit 677d028e41e890103679eec92b58044420b9b4c5
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Tue Feb 6 11:45:41 2007 -0800

	* configure.ac: 
	Version bump: 1.0.4

2006-04-14  Alan Coopersmith  <alan.coopersmith@sun.com>

	* greeter/verify.c: 
	<http://bugs.opensolaris.org/bugdatabase/view_bug.do?bug_id=6413255>
	Sun bug #6413255: xdm should check for uid 0, not for username of 
	"root", when doing non-console login check

2006-04-13  Alan Coopersmith  <alan.coopersmith@sun.com>

	* configure.ac: 
	Add AC_C_INLINE so we can use "inline" keyword

	* greeter/Login.c: 
	Add "inline" to max function definition

2006-04-11  Alan Coopersmith  <alan.coopersmith@sun.com>

	* greeter/Login.c: 
	When clearing username & password buffers, zero out the entire buffer,
	not just the first byte, for reduced risk of leaking passwords into
	core dumps.

2006-04-07  Alan Coopersmith  <alan.coopersmith@sun.com>

	* session.c: 
	Xorg bug #4765 <https://bugs.freedesktop.org/show_bug.cgi?id=4765>
	Patch #3555 <https://bugs.freedesktop.org/attachment.cgi?id=3555>
	xdm doesn't work with the pam_krb5 module (call pam_getenvlist
	after pam_setcred)  (Constantine Sapuntzakis)

2006-03-30  Alan Coopersmith  <alan.coopersmith@sun.com>

	* configure.ac:
	Version bump: 1.0.3

2006-03-30  Alan Coopersmith  <alan.coopersmith@sun.com>
	
	* daemon.c:
	* util.c:
	Drop all setpgrp/setpgid silliness and just use setsid everywhere.
	(Assumes all platforms are at least POSIX.1-1990 compliant.)

	* daemon.c:
	Check for error return from daemon() function.

2006-03-27  Alan Coopersmith  <alan.coopersmith@sun.com>

	* configure.ac: 
	Version bump: 1.0.2

2006-03-17  Alan Coopersmith  <alan.coopersmith@sun.com>

	* configure.ac:
	* config/Xsession.cpp: 
	* config/Makefile.am:
	Bug #5898 <https://bugs.freedesktop.org/show_bug.cgi?id=5898>
	Use mktemp command to create files safely in TMPDIR or /tmp
	on systems that have it - don't try to create files there if
	mktemp is not present.   Fix based on NetBSD fix from
	<http://www.netbsd.org/cgi-bin/query-pr-single.pl?number=32805> .

2006-03-16  Jeremy C. Reed  <reed@reedmedia.net>

	reviewed by: Alan Coopersmith

	* configure.ac:
	DragonFly is a BSD, so is CSRG_BASED and use su with -m option.

2006-03-16  Alan Coopersmith  <alan.coopersmith@sun.com>

	* configure.ac: 
	* daemon.c:
	* session.c:
	* util.c:
	Convert checks for <grp.h>, daemon(), and setpgrp arguments to
	autoconf tests instead of checking OS name #ifdefs.

2006-03-10  Alan Coopersmith  <alan.coopersmith@sun.com>

	* chooser.c: 
	Coverity ids #722, 723, 724, 725, 726, 727, 728:
	Need to XtFree the values returned by XawListShowCurrent to plug
	memory leaks.

	* socket.c (UpdateMcastGroup): 
	Coverity id #834:  
	After joining a multicast group, add group pointer to the list of
	active multicast groups instead of just leaking the group pointer.

2006-03-09  Alan Coopersmith  <alan.coopersmith@sun.com>

	* socket.c: (CreateSocklistEntry):
	Coverity id #332: 
	When malloc fails, don't just print an error and continue on using
	the NULL pointer, return NULL to the caller.

2006-03-01  Matthias Hopf  <mhopf@suse.de>

	* greeter/verify.c: (PAM_conv):
	openSUSE bug #142954
	Fixed potential segfault on OOM condition.

2006-02-24  Alan Coopersmith  <alan.coopersmith@sun.com>

	* configure.ac:
	* session.c:
	Bug #6036 <https://bugs.freedesktop.org/show_bug.cgi?id=6036>
	Check for key_setnet declaration before defining it to avoid
	compiler error of conflicting types on DragonFly BSD

2006-02-24  Alan Coopersmith  <alan.coopersmith@sun.com>

	* netaddr.c: 
	Bug #6026 <https://bugs.freedesktop.org/show_bug.cgi?id=6026>
	Segfault in netaddr.c:ConvertAddr if ifa_addr is NULL
	(Loser Mcloser <reebydobalina@yahoo.ca>)

2006-02-24  Jeremy C. Reed  <reed@reedmedia.net>

	reviewed by: Alan.Coopersmith@Sun.COM

	* config/Xsession.cpp:
	Bug #5897 <https://bugs.freedesktop.org/show_bug.cgi?id=5897>
	Create xsession error file with umask 077 instead of chmod
	a moment later. This was reported by Steven M. Bellovin to NetBSD.
	<http://www.netbsd.org/cgi-bin/query-pr-single.pl?number=32804>

2006-02-24  Alan Coopersmith  <alan.coopersmith@sun.com>

	* greeter/Login.c: 
	Bug #1391 <https://bugs.freedesktop.org/show_bug.cgi?id=1391>
	Patch #4739 <https://bugs.freedesktop.org/attachment.cgi?id=4739>
	xdm hangs in a loop when invalid xpm bitmap is used for logo
	(Costantino Leandro <lcostantino@gmail.com>)

2005-12-20  Kevin E. Martin  <kem-at-freedesktop-dot-org>

	* configure.ac:
	Update package version for X11R7 release.

2005-12-14  Kevin E. Martin  <kem-at-freedesktop-dot-org>

	* configure.ac:
	Update package version number for final X11R7 release candidate.

2005-12-11  Alan Coopersmith  <alan.coopersmith@sun.com>

	* README:
	* configure.ac:
	* config/Makefile.am: 
	* config/xdm-config.cpp:
	Bugzilla #5055 <https://bugs.freedesktop.org/show_bug.cgi?id=5055>
	Add --with-xdmscriptdir to allow builder/packager to decide if
	scripts should go in config, lib, or data directories.

2005-12-07  Kevin E. Martin  <kem-at-freedesktop-dot-org>

	* Makefile.am:
	* configure.ac:
	Change to use the app-defaults default dir configured in libXt.

2005-12-06  Kevin E. Martin  <kem-at-freedesktop-dot-org>

	* Makefile.am:
	Change *man_SOURCES ==> *man_PRE to fix autotools warnings.

2005-12-03  Kevin E. Martin  <kem-at-freedesktop-dot-org>

	* configure.ac:
	Update package version number for X11R7 RC3 release.

2005-11-23  Alan Coopersmith  <alan.coopersmith@sun.com>

	* configure.ac:
	* Makefile.am: 
	Set HAS_ARC4_RANDOM if arc4random() function is found
	Set RANDOMMANDEFS to correctly substitute alternate random 
	device/method descriptions in man page.

2005-11-21  Alan Coopersmith  <alan.coopersmith@sun.com>

	* Makefile.am (MANDEFS): 
	Fix file paths in man pages.

2005-11-20  Eric Anholt  <anholt@FreeBSD.org>

	* configure.ac:
	Bug #5113: The insertion of -lutil into XDM_LIBS ended up having no
	effect because  PKG_CHECK_MODULES(XDM, ...) later overwrote it.  So put
	-lutil into XDM_OS_LIBS and add XDM_OS_LIBS to XDM_LIBS later.

2005-11-19  Alan Coopersmith  <alan.coopersmith@sun.com>

	* configure.ac: 
	Add dependency on xau.

2005-11-19  Kevin E. Martin  <kem-at-freedesktop-dot-org>

	* configure.ac:
	Update dependencies to work with separate build roots.

2005-11-13  Alan Coopersmith  <alan.coopersmith@sun.com>

	* configure.ac: 
	* Makefile.am:
	* greeter/Makefile.am:
	Add --enable-dynamic-greeter flag to allow choosing whether
	greeter should be built into xdm binary or dynamically loaded
	libXdmGreet.so object.
	Add -rdynamic flag to link options when using gcc with dynamic
	greeter to allow greeter object to reference symbols in xdm.

2005-11-12  Alan Coopersmith  <alan.coopersmith@sun.com>

	* Makefile.am: 
	Install xdm man page using APP_MAN_SUFFIX instead of forcing .1

2005-11-09  Kevin E. Martin  <kem-at-freedesktop-dot-org>

	* configure.ac:
	Update package version number for X11R7 RC2 release.

2005-11-07  Alan Coopersmith  <alan.coopersmith@sun.com>

	Changes to match bug #3180 checkin to monolith:
	
	* config/Makefile.am: 
	Generate Xsession from Xsession.cpp
	Add SHELL_CMD to cpp substitutions

	* configure.ac
	Set SHELL_CMD to /bin/ksh for sco, /bin/sh for all other OS'es.

2005-11-01  Alan Coopersmith  <alan.coopersmith@sun.com>

	* configure.ac: 
	Add AC_DEFINE_DIR calls for the path #defines previously set in
	RES_DEFINES section of xdm Imakefile.   (Some should probably
	be made settable via configure --with-* flags, but at least they
	correctly set defaults to match the directories specified to configure
	now.)

2005-11-01  Kevin E. Martin  <kem-at-freedesktop-dot-org>

	* Makefile.am:
	* configure.ac:
	Update pkgcheck depedencies to work with separate build roots.

2005-10-28  Alan Coopersmith  <alan.coopersmith@sun.com>

	* configure.ac: 
	Add -DGREET_LIB to GREETER_CFLAGS on Solaris & SVR4 (was in #if SVR4
	in Imake)
	Add --with-random-device and checks for /dev/urandom & /dev/random
	for source of random data for key generation
	Link libXdmgreet with Xinerama & XPM libraries when using those 
	features.

2005-10-25  Alan Coopersmith  <alan.coopersmith@sun.com>

	* configure.ac: 
	* Makefile.am:
	* config/Makefile.am:
	* greeter/Makefile.am:
	Allow overriding directories for xdm scripts/modules & configuration
	files via configure options --with-xdmlibdir & --with-xdmconfigdir
	Add libXt and libX11 to dependencies for libXdmgreet.
	
	* README: 
	Document default directories & configure options to change them	

2005-10-25  Shawn Starr <shawn.starr@rogers.com>
      
       * configure.ac:
       * Makefile.am:
       * greeter/Makefile.am:
       We forgot to build the Xdm greeter library. Add it to build and cleanup
       hardcoded values to find it.

2005-10-18  Kevin E. Martin  <kem-at-freedesktop-dot-org>

	* configure.ac:
	Update package version number for RC1 release.

2005-10-14  Donnie Berkholz  <spyderous@gentoo.org>

	* configure.ac: Add another set of brackets around DEFAULTVT's empty default
	setting so it isn't treated as a command.

2005-10-05  Kevin E. Martin  <kem-at-freedesktop-dot-org>

	* Makefile.am: Use CLEANFILES for all generated files

2005-09-28  Kristian HÃ¸gsberg  <krh@redhat.com>

	* config/Makefile.am (EXTRA_DIST): Add Xservers.fs.

2005-08-17  Adam Jackson  <ajax@freedesktop.org>

	* configure.ac:
	* Makefile.am:
	Fix EXTRA_DIST to point to a real variable.  Bump to 0.99.1.
